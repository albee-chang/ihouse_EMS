import{O as T,d as X,M as Z}from"./bootstrap.esm-Rs7Aj1ey.js";import{S as F}from"./sweetalert2.all-6XfT6ZgS.js";import{a as p,r as V,o as n,b as c,d as e,e as l,w as h,f as K,g as R,h as W,u as a,F as v,i as A,t as r,n as L,j as S}from"./index-vbB4Mj9z.js";import{_ as D}from"./AddModal-PvHLhMKK.js";const H="data:image/png;base64,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",J={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"static",id:"setPasswordCanvas","aria-labelledby":"accountEditOffcanvasLabel"},G=K('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">設定密碼</h2></div>',2),ee={class:"offcanvas-body"},se=e("div",null,null,-1),te={class:"row g-3"},le={class:"col-8"},ae=e("label",{for:"password",class:"form-label"},"密碼：",-1),oe={class:"col-8"},ne=e("label",{for:"password-chcek",class:"form-label"},"確認密碼：",-1),ce={class:"mt-5 text-center d-flex gap-2"},de=["disabled"],ie={__name:"AccountSetPassword",props:["setPasswordElement","accountEditElement"],setup(k){const u=p(null),E=k;function C(g){u.value.resetForm(),E.setPasswordElement.hide(),E.accountEditElement.hide(),F.fire({icon:"success",title:"已建立",showConfirmButton:!1,timer:2e3})}const I={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",page:""};return(g,b)=>{const x=V("VField"),U=V("ErrorMessage"),i=V("VForm");return n(),c("div",J,[G,e("div",ee,[se,l(i,{ref_key:"setPasswordForm",ref:u,class:"needs-validation h-100 d-flex flex-column justify-content-between",novalidate:""},{default:h(({meta:d})=>[e("div",te,[e("div",le,[ae,l(x,{class:"form-control",id:"password",name:"password",type:"password",rules:"required",placeholder:"請輸入密碼"}),l(U,{as:"p",class:"invalid-feedback d-block mb-0",name:"password"})]),e("div",oe,[ne,l(x,{class:"form-control",id:"password-chcek",name:"password-chcek",type:"password",rules:"confirmed:@password",placeholder:"請再次輸入密碼",modelValue:I.password,"onUpdate:modelValue":b[0]||(b[0]=q=>I.password=q)},null,8,["modelValue"]),l(U,{as:"p",class:"invalid-feedback d-block mb-0",name:"password-chcek"})])]),e("div",ce,[e("button",{class:"btn btn-outline-gray text-black w-50",type:"button",onClick:b[1]||(b[1]=q=>C())}," 上一步 "),e("button",{class:"btn btn-primary w-50",disabled:!d.valid,type:"button",onClick:b[2]||(b[2]=q=>C(g.value))}," 完成 ",8,de)])]),_:1},512)])])}}},re={class:"offcanvas offcanvas-end account-offcanvas","data-bs-backdrop":"static",tabindex:"-1",id:"accountEditOffcanvas","aria-labelledby":"staticBackdropLabel"},ue={class:"offcanvas-header"},me={class:"offcanvas-title fw-semibold",id:"staticBackdropLabel"},be={class:"title-word mt-1"},pe=e("span",{class:"colr-block"},null,-1),fe={key:0},ve={key:1},_e={class:"offcanvas-body"},he=e("div",null,[e("img",{src:H,alt:"uploadPhoto"})],-1),ge={class:"row g-3"},ye={class:"col-8"},ke=e("label",{for:"account",class:"form-label"},"帳號：",-1),we={class:"col-8"},Ae=e("label",{for:"name",class:"form-label"},"姓名：",-1),Ve={class:"col-8"},Ee=e("label",{for:"tel",class:"form-label"},"電話：",-1),Ce={class:"col-12 d-flex select-lable-aligin gap-2"},Ue={class:"col-8"},qe=e("label",{for:"department",class:"form-label"},"單位：",-1),Ie=e("option",{value:"",disabled:""},"請選擇單位",-1),xe=["value"],Be={class:"col-4"},Me={class:"col-12 d-flex select-lable-aligin gap-2"},$e={class:"col-8"},Pe=e("label",{for:"title",class:"form-label"},"職稱：",-1),Qe=e("option",{value:"",disabled:""},"請選擇職稱",-1),Se=["value"],Oe={class:"col-4"},ze={class:"col-8"},Fe=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),je=e("option",{value:"",disabled:""},"請選擇權限",-1),Ne=["value"],Ye=e("hr",{class:"my-4"},null,-1),Le=e("h3",null,"頁面權限",-1),Xe={class:"col-8"},Ze=e("option",{value:"",disabled:""},"請選擇頁面",-1),Te=["value"],Ke={class:"col-4"},We=e("option",{value:"",disabled:""},"請選擇權限",-1),Re=["value"],De={class:"col-4"},He=["disabled"],Je={class:"mt-5 text-center"},Ge={key:0},es=["disabled"],ss={key:1},ts=["disabled"],ls={__name:"AccountEditOffcanvas",props:["departments","titles","systemAccesss","addModalElement","accountEditElement","isNew","tempObject"],setup(k){const u=k,E=p(null),C=p(null),I=p(u.departments),g=p(u.titles),b=p(null),x=X.webPages,U=X.pageAccesss;let i=[{page:"",access:""}],d={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]};u.tempObject!==null&&(console.log("temp Not Null"),d={...u.tempObject},i=d.pageAccess);const q=()=>{i.push({page:"",access:""})};R(()=>{u.isNew?i=[{page:"",access:""}]:(d={...u.tempObject},i=d.pageAccess)});function j(m){b.value.resetForm(),M.value.show()}function O(m){F.fire({icon:"success",title:"已儲存",showConfirmButton:!1,timer:2e3}),u.accountEditElement.hide()}function N(){F.fire({icon:"success",title:"已移除",showConfirmButton:!1,timer:2e3})}function Y(){u.accountEditElement.hide()}function _(m){u.addModalElement.show(),m==="title"?(C.value="title",E.value=[...g.value]):(C.value="department",E.value=[...I.value])}function w(m){switch(m){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return m}}function P(m){switch(m){case"editable":return"編輯者";case"onlyView":return"檢視者";case"del":return"移除權限";default:return m}}function z(m){const{arrayName:o,adjustedArray:t}=m;switch(o){case"title":g.value=t;break;case"department":I.value=t;break;default:console.error(m);break}u.addModalElement.hide()}const M=p(null);return W(()=>{M.value=new T(document.querySelector("#setPasswordCanvas"),{keyboard:!1})}),(m,o)=>{const t=V("VField"),f=V("ErrorMessage"),Q=V("VForm");return n(),c(v,null,[e("div",re,[e("div",ue,[e("h2",me,[e("div",be,[pe,k.isNew?(n(),c("span",fe,"建立新帳號")):(n(),c("span",ve,"編輯帳號"))])]),e("button",{type:"button",class:"btn-close rounded-5 bg-gray","aria-label":"Close",onClick:o[0]||(o[0]=B=>Y())})]),e("div",_e,[he,l(Q,{ref_key:"editUserForm",ref:b,class:"needs-validation"},{default:h(({meta:B})=>[e("div",ge,[e("div",ye,[ke,l(t,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",required:"",placeholder:"請輸入帳號",modelValue:a(d).account,"onUpdate:modelValue":o[1]||(o[1]=s=>a(d).account=s),disabled:!k.isNew},null,8,["modelValue","disabled"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",we,[Ae,l(t,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",required:"",placeholder:"請輸入姓名",modelValue:a(d).name,"onUpdate:modelValue":o[2]||(o[2]=s=>a(d).name=s)},null,8,["modelValue"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",Ve,[Ee,l(t,{class:"form-control",id:"tel",name:"phone",type:"tel",required:"",rules:"required|digits:10|numeric",placeholder:"請輸入電話",modelValue:a(d).phone,"onUpdate:modelValue":o[3]||(o[3]=s=>a(d).phone=s),disabled:!k.isNew},null,8,["modelValue","disabled"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",Ce,[e("div",Ue,[qe,l(t,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required",modelValue:a(d).department,"onUpdate:modelValue":o[4]||(o[4]=s=>a(d).department=s)},{default:h(()=>[Ie,(n(!0),c(v,null,A(I.value,s=>(n(),c("option",{key:s,value:s},r(s),9,xe))),128))]),_:1},8,["modelValue"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",Be,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:o[5]||(o[5]=s=>_("department"))}," 建立新單位 ")])]),e("div",Me,[e("div",$e,[Pe,l(t,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required",modelValue:a(d).title,"onUpdate:modelValue":o[6]||(o[6]=s=>a(d).title=s)},{default:h(()=>[Qe,(n(!0),c(v,null,A(g.value,s=>(n(),c("option",{key:s,value:s},r(s),9,Se))),128))]),_:1},8,["modelValue"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:"title"})]),e("div",Oe,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:o[7]||(o[7]=s=>_("title"))}," 建立新職稱 ")])]),e("div",ze,[Fe,l(t,{id:"system-access",name:"system-access",as:"select",class:"form-select",required:"",rules:"required",modelValue:a(d).systemAccess,"onUpdate:modelValue":o[8]||(o[8]=s=>a(d).systemAccess=s)},{default:h(()=>[je,(n(!0),c(v,null,A(k.systemAccesss,s=>(n(),c("option",{key:s,value:s},r(w(s)),9,Ne))),128))]),_:1},8,["modelValue"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:"system-access"})])]),Ye,Le,(n(!0),c(v,null,A(a(i),(s,$)=>(n(),c("div",{key:s.key,class:"col-12 d-flex align-items-start gap-2 mb-3"},[e("div",Xe,[l(t,{id:`page-${$}`,name:`page-${$}`,as:"select",class:"form-select",required:"",rules:"required",modelValue:s.page,"onUpdate:modelValue":y=>s.page=y,disabled:s.page!==""},{default:h(()=>[Ze,(n(!0),c(v,null,A(a(x),y=>(n(),c("option",{key:y,value:y},r(y),9,Te))),128))]),_:2},1032,["id","name","modelValue","onUpdate:modelValue","disabled"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:`page-${$}`},null,8,["name"])]),e("div",Ke,[l(t,{id:`page-access-${$}`,name:`page-access-${$}`,as:"select",class:"form-select",required:"",rules:"required",modelValue:s.access,"onUpdate:modelValue":y=>s.access=y},{default:h(()=>[We,(n(!0),c(v,null,A(a(U),y=>(n(),c("option",{key:y,value:y},r(P(y)),9,Re))),128)),e("option",null,[e("button",{type:"button",onClick:N},"移除權限")])]),_:2},1032,["id","name","modelValue","onUpdate:modelValue"]),l(f,{as:"p",class:"invalid-feedback d-block mb-0",name:`page-access-${$}`},null,8,["name"])])]))),128)),e("div",De,[e("button",{type:"button",class:L(["btn",{"btn-outline-gray":a(i)&&a(i)[a(i).length-1].page==="","btn-outline-primary":!(a(i)&&a(i)[a(i).length-1].page==="")}]),onClick:q,disabled:a(i)&&a(i)[a(i).length-1].page===""},"新增頁面",10,He)]),e("div",Je,[k.isNew?(n(),c("span",Ge,[e("button",{class:L(["btn btn-primary w-50",[B.valid?"btn-primary":"btn-gray"]]),disabled:!B.valid,type:"button",onClick:o[9]||(o[9]=s=>j())}," 下一步 ",10,es)])):(n(),c("span",ss,[e("button",{class:L(["btn btn-primary w-50",[B.valid?"btn-primary":"btn-gray"]]),disabled:!B.valid,type:"button",onClick:o[10]||(o[10]=s=>O())}," 儲存 ",10,ts)]))])]),_:1},512)])]),l(D,{"temp-array":E.value,"array-name":C.value,onDataAdjusted:z},null,8,["temp-array","array-name"]),l(ie,{"set-password-element":M.value,"account-edit-element":k.accountEditElement},null,8,["set-password-element","account-edit-element"])],64)}}},as={class:"container"},os={class:"list-unstyled d-flex page-box mb-4"},ns={class:"page-item"},cs={class:"page-item"},ds={class:"bg-white-box mb-2"},is={class:"d-flex gap-2"},rs=e("div",{class:""},[e("label",{for:"exampleFormControlInput1",class:"form-label"},"姓名、電話、帳號"),e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"請輸入姓名、電話、帳號"})],-1),us={class:""},ms=e("label",{for:"search-department",class:"form-label"},"單位",-1),bs=e("option",{value:"",disabled:""},"請選擇單位",-1),ps=["value"],fs={class:""},vs=e("label",{for:"search-title",class:"form-label"},"職稱",-1),_s=e("option",{value:"",disabled:""},"請選擇職稱",-1),hs=["value"],gs=e("div",{class:"d-flex gap-2"},[e("button",{type:"submit",class:"btn btn-outline-gray fw-semibold"}," 清除 "),e("button",{type:"submit",class:"btn btn-gray fw-semibold"},"搜尋")],-1),ys={class:"d-flex justify-content-between align-items-end mb-2"},ks=e("h4",{class:"fw-semibold"},"列表",-1),ws={class:"d-flex gap-2 align-items-center me-2"},As={class:"mb-0 me-2"},Vs={class:"bg-white-box"},Es={class:"table-responsive"},Cs={class:"table table-hover"},Us=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),qs={scope:"row",class:"text-center"},Is={class:"ps-2"},xs=["src"],Bs={class:"ps-2 mb-0"},Ms={class:"ps-2"},$s=["onClick"],Ps=["onClick"],Qs={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ss={class:"modal-dialog modal-dialog-centered"},Os={class:"modal-content bg-white-box"},zs=K('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),Fs={class:"modal-body"},js={class:"fw-semibold"},Ns={class:"d-flex gap-2 justify-content-center"},Ys=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),Ks={__name:"AccountMangerView",setup(k){const{userDatas:u,departments:E,titles:C,systemAccesss:I}=X,g=p(u),b=p(null),x=p(null),U=p(null),i=p(null),d=p(null),q=p(null);function j(_){switch(_){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return _}}function O(_,w){w==="new"?(x.value=!0,U.value={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]}):(x.value=!1,U.value={..._}),d.value.show()}function N(_){q.value.show(),b.value={..._}}function Y(_){g.value=g.value.filter((w,P)=>w.id!==_),b.value=null,q.value.hide(),F.fire({icon:"success",title:"已刪除",showConfirmButton:!1,timer:2e3})}return W(()=>{d.value=new T("#accountEditOffcanvas",{keyboard:!1}),i.value=new Z(document.querySelector("#addModal"),{keyboard:!1}),q.value=new Z(document.querySelector("#delUserModal"),{keyboard:!1})}),(_,w)=>{var o;const P=V("router-link"),z=V("VField"),M=V("ErrorMessage"),m=V("VForm");return n(),c(v,null,[e("div",as,[e("ul",os,[e("li",ns,[l(P,{to:"/access/accountManger",class:"page-link fs-4"},{default:h(()=>[S("帳號")]),_:1})]),e("li",cs,[l(P,{to:"/access/pageManger",class:"page-link fs-4"},{default:h(()=>[S("頁面")]),_:1})])]),e("section",ds,[l(m,{class:"d-flex justify-content-between align-items-end"},{default:h(()=>[e("div",is,[rs,e("div",us,[ms,l(z,{id:"search-department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:h(()=>[bs,(n(!0),c(v,null,A(a(E),t=>(n(),c("option",{key:t,value:t},r(t),9,ps))),128))]),_:1}),l(M,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",fs,[vs,l(z,{id:"search-title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:h(()=>[_s,(n(!0),c(v,null,A(a(C),t=>(n(),c("option",{key:t,value:t},r(t),9,hs))),128))]),_:1}),l(M,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})])]),gs]),_:1})]),e("section",null,[e("div",ys,[ks,e("div",ws,[e("p",As,"共計："+r(g.value.length)+" 筆",1),e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","aria-controls":"staticBackdrop",onClick:w[0]||(w[0]=t=>O(U.value,"new"))}," 建立新帳號 ")])]),e("div",Vs,[e("div",Es,[e("table",Cs,[Us,(n(!0),c(v,null,A(g.value,(t,f)=>(n(),c("tbody",{key:t.id},[e("tr",null,[e("th",qs,r(f+1),1),e("td",null,[e("div",Is,[e("img",{class:"table-img-head",src:t.photo,alt:""},null,8,xs)])]),e("td",null,r(t.department),1),e("td",null,r(t.title),1),e("td",null,r(t.name),1),e("td",null,r(t.phone),1),e("td",null,r(t.account),1),e("td",null,r(j(t.systemAccess)),1),e("td",null,[e("p",Bs,[(n(!0),c(v,null,A(t.pageAccess,(Q,B)=>(n(),c(v,null,[S(r(B>0?"、":"")+r(Q.page),1)],64))),256))])]),e("td",null,[e("div",Ms,[e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold","aria-controls":"staticBackdrop",onClick:Q=>O(t,"edit")}," 編輯 ",8,$s),e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:Q=>N(t)}," 刪除 ",8,Ps)])])])]))),128))])])])])]),e("div",Qs,[e("div",Ss,[e("div",Os,[zs,e("div",Fs,[e("p",null,[S(" 確定要刪除 "),e("span",js,r((o=b.value)==null?void 0:o.name),1),S(" 的帳號嗎？ ")]),e("div",Ns,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:w[1]||(w[1]=t=>{var f;return Y((f=b.value)==null?void 0:f.id)})}," 確定刪除 "),Ys])])])])]),l(ls,{titles:a(C),departments:a(E),"system-accesss":a(I),"is-new":x.value,"temp-object":U.value,"add-modal-element":i.value,"account-edit-element":d.value},null,8,["titles","departments","system-accesss","is-new","temp-object","add-modal-element","account-edit-element"])],64)}}};export{Ks as default};
