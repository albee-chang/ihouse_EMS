import{a as u,b as z,M as U,d as c,e,f as t,w as d,t as a,F as b,g as m,h as f,i as w,r as k,o as i,n as G}from"./index-tsdHsm3M.js";const H=[{id:"1",photo:"/src/assets/image/head/Ellipse599.png",department:"總管理部",title:"總經理",name:"王柏宏",phone:"0912345678",account:"Trunk234",password:"123",systemAccess:"Admin",pageAccess:["首頁","用電分析","目標管理","能源管理","人流監控"]},{id:"2",photo:"/src/assets/image/head/Ellipse600.png",department:"工環部",title:"製造主管",name:"毛恩桂",phone:"0912358392",account:"Capt.677",password:"123",systemAccess:"editor",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"3",photo:"/src/assets/image/head/Ellipse601.png",department:"資材部",title:"營運經理",name:"吳雅裕",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"4",photo:"/src/assets/image/head/Ellipse602.png",department:"資材部",title:"營運經理",name:"吳建霖",phone:"0989828172",account:"Mike123",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"5",photo:"/src/assets/image/head/Ellipse603.png",department:"生產部",title:"生產管理人員",name:"連維利",phone:"0912385982",account:"Templeton51",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"6",photo:"/src/assets/image/head/Ellipse604.png",department:"生產部",title:"生產技術",name:"程祐心",phone:"0935839182",account:"Devon677",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"7",photo:"/src/assets/image/head/Ellipse601.png",department:"開發部",title:"專案工程師",name:"王曼西",phone:"0966839182",account:"Mike566",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"8",photo:"/src/assets/image/head/Ellipse607.png",department:"開發部",title:"專案工程師",name:"李昭維",phone:"0923183929",account:"Angu233",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"9",photo:"/src/assets/image/head/Ellipse607.png",department:"開發部",title:"專案工程師",name:"劉寶桓",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"10",photo:"/src/assets/image/head/Ellipse608.png",department:"開發部",title:"專案工程師",name:"陳曉明",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]}],J=["總管理部","工環部","資材部","生產部","開發部"],K=["總經理","製造主管","營運經理","生產管理人員","生產技術","專案工程師"],O={userDatas:H,departments:J,titles:K},Q={class:"container"},W={class:"list-unstyled d-flex page-box mb-4"},X={class:"page-item"},Y={class:"page-item"},Z={class:"bg-white-box mb-2"},D={class:"d-flex justify-content-between align-items-end"},ee=w('<div class="d-flex gap-2"><div class=""><label for="exampleFormControlInput1" class="form-label">姓名、電話、帳號</label><input type="text" class="form-control" id="exampleFormControlInput1" placeholder="請輸入姓名、電話、帳號"></div><div class=""><label for="country" class="form-label">單位</label><select class="form-select" id="country" required><option value="">請選擇單位</option><option>United States</option></select><div class="invalid-feedback d-none"> Please select a valid country. </div></div><div class=""><label for="country2" class="form-label">職稱</label><select class="form-select" id="country2" required><option value="">請選擇職稱</option><option>總管理部</option></select><div class="invalid-feedback d-none"> Please select a valid country. </div></div></div>',1),se={class:"d-flex gap-2"},te={class:"d-flex justify-content-between align-items-end mb-2"},oe=e("h4",{class:"fw-semibold"},"列表",-1),ae={class:"d-flex gap-2 align-items-center me-2"},le={class:"mb-0 me-2"},ne=e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample"}," 建立新帳號 ",-1),ce={class:"bg-white-box"},de={class:"table-responsive"},ie={class:"table table-hover"},re=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"職稱"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),ue={scope:"row",class:"text-center"},be={class:"ps-2"},me=["src"],pe={class:"ps-2 mb-0"},_e={class:"ps-2"},ve=["onClick"],he=["onClick"],fe={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"staticSS",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},ye=w('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1 mb-3"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">建立新帳號</h2></div>',2),ge={class:"offcanvas-body"},ke={class:"row g-3"},we={class:"col-8"},xe=e("label",{for:"account",class:"form-label"},"帳號：",-1),qe={class:"col-8"},Ae=e("label",{for:"name",class:"form-label"},"姓名：",-1),Ee={class:"col-8"},Ce=e("label",{for:"tel",class:"form-label"},"電話：",-1),Me={class:"col-12 d-flex align-items-end gap-2"},Ve={class:"col-8"},Se=e("label",{for:"department",class:"form-label"},"單位：",-1),Fe=e("option",{value:"",disabled:""},"請選擇單位",-1),Ue=["value"],$e={class:"col-4"},Be={class:"col-12 d-flex align-items-end gap-2"},Te={class:"col-8"},je=e("label",{for:"title",class:"form-label"},"職稱：",-1),Le=e("option",{value:"",disabled:""},"請選擇職稱",-1),Ne=["value"],Re={class:"col-4"},Ie={class:"col-8"},Pe=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),ze=e("option",{value:"",disabled:""},"請選擇權限",-1),Ge=e("option",{value:"1"},"1",-1),He=e("hr",{class:"my-4"},null,-1),Je=e("h3",null,"頁面權限",-1),Ke={class:"col-12 d-flex align-items-end gap-2"},Oe={class:"col-8"},Qe=e("option",{value:"",disabled:""},"請選擇頁面",-1),We=e("option",{value:"1"},"1",-1),Xe={class:"col-4"},Ye=e("option",{value:"",disabled:""},"請選擇",-1),Ze=e("option",{value:"1"},"1",-1),De=e("div",{class:"col-4 my-2"},[e("button",{type:"button",class:"btn btn-outline-gray"},"新增頁面")],-1),es=e("div",{class:"mt-5 text-center"},[e("button",{class:"btn btn-primary w-50",type:"submit"},"下一步")],-1),ss={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"staticSS",id:"offcanvasEditUser","aria-labelledby":"offcanvasExampleLabel"},ts=w('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1 mb-3"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">編輯帳號</h2></div>',2),os={class:"offcanvas-body"},as={class:"row g-3"},ls={class:"col-8"},ns=e("label",{for:"account",class:"form-label"},"帳號：",-1),cs={class:"col-8"},ds=e("label",{for:"name",class:"form-label"},"姓名：",-1),is={class:"col-8"},rs=e("label",{for:"tel",class:"form-label"},"電話：",-1),us={class:"col-12 d-flex align-items-end gap-2"},bs={class:"col-8"},ms=e("label",{for:"department",class:"form-label"},"單位：",-1),ps=e("option",{value:"",disabled:""},"請選擇單位",-1),_s=["value"],vs={class:"col-4"},hs={class:"col-12 d-flex align-items-end gap-2"},fs={class:"col-8"},ys=e("label",{for:"title",class:"form-label"},"職稱：",-1),gs=e("option",{value:"",disabled:""},"請選擇職稱",-1),ks=["value"],ws={class:"col-4"},xs={class:"col-8"},qs=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),As=e("option",{value:"",disabled:""},"請選擇權限",-1),Es=e("option",{value:"編輯者"}," 編輯者 ",-1),Cs=e("option",{value:"檢視者"}," 檢視者 ",-1),Ms=e("option",{value:"移除權限"}," 移除權限 ",-1),Vs=e("hr",{class:"my-4"},null,-1),Ss=e("h3",null,"頁面權限",-1),Fs={class:"col-12 d-flex align-items-end gap-2"},Us={class:"col-8"},$s=e("option",{value:"",disabled:""},"請選擇頁面",-1),Bs=["value"],Ts={class:"col-4"},js=e("option",{value:"",disabled:""},"請選擇",-1),Ls=e("option",{value:"編輯者"}," 編輯者 ",-1),Ns=e("option",{value:"檢視者"}," 檢視者 ",-1),Rs=e("option",{value:"移除權限"}," 移除權限 ",-1),Is=e("div",{class:"col-4 my-2"},[e("button",{type:"button",class:"btn btn-outline-gray"},"新增頁面")],-1),Ps=e("div",{class:"mt-5 text-center"},[e("button",{class:"btn btn-primary w-50",type:"submit"},"下一步")],-1),zs={class:"modal fade",id:"addModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Gs={class:"modal-dialog modal-dialog-centered"},Hs={class:"modal-content bg-white-box"},Js={class:"modal-header border-0"},Ks={class:"title-word"},Os=e("span",{class:"colr-block"},null,-1),Qs={class:"mb-0 fw-semibold"},Ws=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Xs={class:"modal-body"},Ys={class:"mb-3"},Zs={for:"inputField",class:"form-label"},Ds={class:"text-center"},et=["disabled"],st={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},tt={class:"modal-dialog modal-dialog-centered"},ot={class:"modal-content bg-white-box"},at=w('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),lt={class:"modal-body"},nt={class:"fw-semibold"},ct={class:"d-flex gap-2 justify-content-center"},dt=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),ut={__name:"AccountMangerView",setup(it){const{userDatas:$,departments:B,titles:T}=O,v=u($),x=u(B),q=u(T),p=u(null),y=u(null),h=u(null);let A="";function S(r){console.log(r)}const E=u(null),C=u(null),j=u(null);function L(){A.value.push(p.value),E.value.hide(),p.value=null}function g(r){E.value.show(),r==="title"?(h.value="職稱",A=q):(h.value="單位名稱",A=x)}function N(r){C.value.show(),y.value={...r}}function R(r){v.value=v.value.filter((o,M)=>o.id!==r),y.value=null,C.value.hide()}function I(r){switch(r){case"Admin":return"系統管理員";case"editor":return"編輯者";case"onlyView":return"僅檢視";default:return"無"}}return z(()=>{E.value=new U(document.querySelector("#addModal"),{keyboard:!1}),C.value=new U(document.querySelector("#delUserModal"),{keyboard:!1})}),(r,o)=>{var F;const M=k("router-link"),l=k("VField"),n=k("ErrorMessage"),V=k("VForm");return i(),c(b,null,[e("div",Q,[e("ul",W,[e("li",X,[t(M,{to:"/access/accountManger",class:"page-link fs-4"},{default:d(()=>[f("帳號")]),_:1})]),e("li",Y,[t(M,{to:"/access/pageManger",class:"page-link fs-4"},{default:d(()=>[f("頁面")]),_:1})])]),e("section",Z,[e("form",D,[ee,e("div",se,[e("button",{type:"submit",class:"btn btn-outline-gray fw-semibold",onClick:o[0]||(o[0]=s=>r.clearBtn())}," 清除 "),e("button",{type:"submit",class:"btn btn-gray fw-semibold",onClick:o[1]||(o[1]=s=>r.searchBtn())},"搜尋")])])]),e("section",null,[e("div",te,[oe,e("div",ae,[e("p",le,"共計："+a(v.value.length)+" 筆",1),ne])]),e("div",ce,[e("div",de,[e("table",ie,[re,(i(!0),c(b,null,m(v.value,s=>(i(),c("tbody",{key:s.id},[e("tr",null,[e("th",ue,a(s.id),1),e("td",null,[e("div",be,[e("img",{class:"table-img-head",src:s.photo,alt:""},null,8,me)])]),e("td",null,a(s.department),1),e("td",null,a(s.title),1),e("td",null,a(s.name),1),e("td",null,a(s.phone),1),e("td",null,a(s.account),1),e("td",null,a(I(s.systemAccess)),1),e("td",null,[e("p",pe,[(i(!0),c(b,null,m(s.pageAccess,(_,P)=>(i(),c(b,null,[f(a(P>0?"、":"")+a(_),1)],64))),256))])]),e("td",null,[e("div",_e,[e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasEditUser","aria-controls":"offcanvasEditUser",onClick:_=>r.editUserBtn(s)}," 編輯 ",8,ve),e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:_=>N(s)}," 刪除 ",8,he)])])])]))),128))])])])])]),e("div",fe,[ye,e("div",ge,[t(V,{class:"needs-validation",onSubmit:S,novalidate:""},{default:d(()=>[e("div",ke,[e("div",we,[xe,t(l,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",placeholder:"請輸入帳號"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",qe,[Ae,t(l,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",placeholder:"請輸入姓名"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",Ee,[Ce,t(l,{class:"form-control",id:"tel",name:"phone",type:"tel",rules:"required|digits:10|numeric",placeholder:"請輸入電話"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",Me,[e("div",Ve,[Se,t(l,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[Fe,(i(!0),c(b,null,m(x.value,s=>(i(),c("option",{key:s,value:s},a(s),9,Ue))),128))]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",$e,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:o[2]||(o[2]=s=>g("department"))}," 建立新單位 ")])]),e("div",Be,[e("div",Te,[je,t(l,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[Le,(i(!0),c(b,null,m(q.value,s=>(i(),c("option",{key:s,value:s},a(s),9,Ne))),128))]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})]),e("div",Re,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:o[3]||(o[3]=s=>g("title"))}," 建立新職稱 ")])]),e("div",Ie,[Pe,t(l,{id:"system-access",name:"系統權限",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[ze,Ge]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"系統權限"})])]),He,Je,e("div",Ke,[e("div",Oe,[t(l,{id:"page",name:"頁面",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[Qe,We]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"頁面"})]),e("div",Xe,[t(l,{id:"page",name:"權限",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[Ye,Ze]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"權限"})])]),De,es]),_:1})])]),e("div",ss,[ts,e("div",os,[t(V,{class:"needs-validation",onSubmit:S,novalidate:""},{default:d(()=>[e("div",as,[e("div",ls,[ns,t(l,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",placeholder:"請輸入帳號"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",cs,[ds,t(l,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",placeholder:"請輸入姓名"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",is,[rs,t(l,{class:"form-control",id:"tel",name:"phone",type:"tel",rules:"required|digits:10|numeric",placeholder:"請輸入電話"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",us,[e("div",bs,[ms,t(l,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[ps,(i(!0),c(b,null,m(x.value,s=>(i(),c("option",{key:s,value:s},a(s),9,_s))),128))]),_:1})]),e("div",vs,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:o[4]||(o[4]=s=>g("department"))}," 建立新單位 ")])]),e("div",hs,[e("div",fs,[ys,t(l,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[gs,(i(!0),c(b,null,m(q.value,s=>(i(),c("option",{key:s,value:s},a(s),9,ks))),128))]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})]),e("div",ws,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:o[5]||(o[5]=s=>g("title"))}," 建立新職稱 ")])]),e("div",xs,[qs,t(l,{id:"system-access",name:"系統權限",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[As,Es,Cs,Ms]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"系統權限"})])]),Vs,Ss,e("div",Fs,[e("div",Us,[t(l,{id:"page",name:"頁面",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[$s,(i(!0),c(b,null,m(v.value[0].pageAccess,s=>(i(),c("option",{key:s,value:s},a(s),9,Bs))),128))]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"頁面"})]),e("div",Ts,[t(l,{id:"page",name:"權限",as:"select",class:"form-select",required:"",rules:"required"},{default:d(()=>[js,Ls,Ns,Rs]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"權限"})])]),Is,Ps]),_:1})])]),e("div",zs,[e("div",Gs,[e("div",Hs,[e("div",Js,[e("div",Ks,[Os,e("h2",Qs,"建立新"+a(h.value),1)]),Ws]),e("div",Xs,[t(V,{ref_key:"addForm",ref:j,onSubmit:L},{default:d(()=>[e("div",Ys,[e("label",Zs,a(h.value)+"：",1),t(l,{class:"form-control",id:"inputField",name:"data",type:"test",rules:"required",modelValue:p.value,"onUpdate:modelValue":o[6]||(o[6]=s=>p.value=s),placeholder:`請輸入${h.value}`},null,8,["modelValue","placeholder"]),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"data"})]),e("div",Ds,[e("button",{type:"submit",class:G(["fw-semibold",["btn",p.value?"btn-primary":"btn-gray"]]),disabled:!p.value}," 儲存 ",10,et)])]),_:1},512)])])])]),e("div",st,[e("div",tt,[e("div",ot,[at,e("div",lt,[e("p",null,[f("確定要刪除 "),e("span",nt,a((F=y.value)==null?void 0:F.name),1),f(" 的帳號嗎？")]),e("div",ct,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:o[7]||(o[7]=s=>{var _;return R((_=y.value)==null?void 0:_.id)})}," 確定刪除 "),dt])])])])])],64)}}};export{ut as default};
