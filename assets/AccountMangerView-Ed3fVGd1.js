import{a as b,w as B,r as w,o as u,b as p,d as e,t as n,e as s,f as h,n as S,F as g,g as M,h as C,i as T,j as A,u as F}from"./index-g607tCik.js";import{M as N}from"./bootstrap.esm-TTjMTX3M.js";const U=[{id:"1",photo:"/src/assets/image/head/Ellipse599.png",department:"總管理部",title:"總經理",name:"王柏宏",phone:"0912345678",account:"Trunk234",password:"123",systemAccess:"Admin",pageAccess:["首頁","用電分析","目標管理","能源管理","人流監控"]},{id:"2",photo:"/src/assets/image/head/Ellipse600.png",department:"工環部",title:"製造主管",name:"毛恩桂",phone:"0912358392",account:"Capt.677",password:"123",systemAccess:"editor",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"3",photo:"/src/assets/image/head/Ellipse601.png",department:"資材部",title:"營運經理",name:"吳雅裕",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"4",photo:"/src/assets/image/head/Ellipse602.png",department:"資材部",title:"營運經理",name:"吳建霖",phone:"0989828172",account:"Mike123",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"5",photo:"/src/assets/image/head/Ellipse603.png",department:"生產部",title:"生產管理人員",name:"連維利",phone:"0912385982",account:"Templeton51",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"6",photo:"/src/assets/image/head/Ellipse604.png",department:"生產部",title:"生產技術",name:"程祐心",phone:"0935839182",account:"Devon677",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"7",photo:"/src/assets/image/head/Ellipse601.png",department:"開發部",title:"專案工程師",name:"王曼西",phone:"0966839182",account:"Mike566",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"8",photo:"/src/assets/image/head/Ellipse607.png",department:"開發部",title:"專案工程師",name:"李昭維",phone:"0923183929",account:"Angu233",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"9",photo:"/src/assets/image/head/Ellipse607.png",department:"開發部",title:"專案工程師",name:"劉寶桓",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"10",photo:"/src/assets/image/head/Ellipse608.png",department:"開發部",title:"專案工程師",name:"陳曉明",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]}],O=["總管理部","工環部","資材部","生產部","開發部"],L=["總經理","製造主管","營運經理","生產管理人員","生產技術","專案工程師"],R={userDatas:U,departments:O,titles:L},D={class:"modal fade",id:"addModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},I={class:"modal-dialog modal-dialog-centered"},z={class:"modal-content bg-white-box"},G={class:"modal-header border-0"},H={class:"title-word"},J=e("span",{class:"colr-block"},null,-1),K={class:"mb-0 fw-semibold"},P=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Q={class:"modal-body"},W={class:"mb-3"},X={for:"inputField",class:"form-label"},Y={class:"text-center"},Z=["disabled"],ee={__name:"AddModal",props:["tempArray","arrayName"],emits:["dataAdjusted"],setup(x,{emit:v}){const _=x,y=v,o=b(null),d=b(""),f=b("");function k(i){switch(i){case"title":d.value="職稱",f.value="請輸入職稱";break;default:d.value="單位",f.value="請輸入單位名稱";break}}function m(){const i=[..._.tempArray,o.value];y("dataAdjusted",{arrayName:_.arrayName,adjustedArray:i}),o.value=null}return B(()=>{k(_.arrayName)}),(i,a)=>{const r=w("VField"),l=w("ErrorMessage"),t=w("VForm");return u(),p("div",D,[e("div",I,[e("div",z,[e("div",G,[e("div",H,[J,e("h2",K,"建立新"+n(d.value),1)]),P]),e("div",Q,[s(t,{ref:"addForm",onSubmit:m},{default:h(()=>[e("div",W,[e("label",X,n(d.value)+"：",1),s(r,{class:"form-control",id:"inputField",name:"data",type:"test",rules:"required",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=$=>o.value=$),placeholder:`${f.value}`},null,8,["modelValue","placeholder"]),s(l,{as:"p",class:"invalid-feedback d-block mb-0",name:"data"})]),e("div",Y,[e("button",{type:"submit",class:S(["fw-semibold",["btn",o.value?"btn-primary":"btn-gray"]]),disabled:!o.value}," 儲存 ",10,Z)])]),_:1},512)])])])])}}},se={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"static",id:"accountEditOffcanvas","aria-labelledby":"accountEditOffcanvasLabel"},te=C('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">建立新帳號</h2></div>',2),ae={class:"offcanvas-body"},oe={class:"row g-3"},le={class:"col-8"},ne=e("label",{for:"account",class:"form-label"},"帳號：",-1),ce={class:"col-8"},de=e("label",{for:"name",class:"form-label"},"姓名：",-1),ie={class:"col-8"},re=e("label",{for:"tel",class:"form-label"},"電話：",-1),me={class:"col-12 d-flex align-items-end gap-2"},ue={class:"col-8"},pe=e("label",{for:"department",class:"form-label"},"單位：",-1),be=e("option",{value:"",disabled:""},"請選擇單位",-1),_e=["value"],he={class:"col-4"},ve={class:"col-12 d-flex align-items-end gap-2"},fe={class:"col-8"},ye=e("label",{for:"title",class:"form-label"},"職稱：",-1),ge=e("option",{value:"",disabled:""},"請選擇職稱",-1),we=["value"],ke={class:"col-4"},$e={class:"col-8"},Ae=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),xe=e("option",{value:"",disabled:""},"請選擇權限",-1),Ee=e("option",{value:"1"},"1",-1),Me=e("hr",{class:"my-4"},null,-1),Ve=e("h3",null,"頁面權限",-1),Ce={class:"col-12 d-flex align-items-end gap-2"},qe={class:"col-8"},Fe=e("option",{value:"",disabled:""},"請選擇頁面",-1),Ne=e("option",{value:"1"},"1",-1),je={class:"col-4"},Be=e("option",{value:"",disabled:""},"請選擇",-1),Se=e("option",{value:"1"},"1",-1),Te=e("div",{class:"col-4 mt-2"},[e("button",{type:"button",class:"btn btn-outline-gray"},"新增頁面")],-1),Ue=e("div",{class:"mt-5 text-center"},[e("button",{class:"btn btn-primary w-50",type:"submit"},"下一步")],-1),Oe={__name:"AccountEditOffcanvas",props:["departments","titles","addModalElement"],setup(x){const v=x,_=b(null),y=b(null),o=b(v.departments),d=b(v.titles);function f(m){v.addModalElement.show(),m==="title"?(y.value="title",_.value=[...d.value]):(y.value="department",_.value=[...o.value])}function k(m){const{arrayName:i,adjustedArray:a}=m;switch(i){case"title":d.value=a;break;case"department":o.value=a;break;default:console.error(m);break}v.addModalElement.hide()}return(m,i)=>{const a=w("VField"),r=w("ErrorMessage"),l=w("VForm");return u(),p(g,null,[e("div",se,[te,e("div",ae,[s(l,{class:"needs-validation",novalidate:""},{default:h(()=>[e("div",oe,[e("div",le,[ne,s(a,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",placeholder:"請輸入帳號"}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",ce,[de,s(a,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",placeholder:"請輸入姓名"}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",ie,[re,s(a,{class:"form-control",id:"tel",name:"phone",type:"tel",rules:"required|digits:10|numeric",placeholder:"請輸入電話"}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",me,[e("div",ue,[pe,s(a,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:h(()=>[be,(u(!0),p(g,null,M(o.value,t=>(u(),p("option",{key:t,value:t},n(t),9,_e))),128))]),_:1}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",he,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:i[0]||(i[0]=t=>f("department"))}," 建立新單位 ")])]),e("div",ve,[e("div",fe,[ye,s(a,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:h(()=>[ge,(u(!0),p(g,null,M(d.value,t=>(u(),p("option",{key:t,value:t},n(t),9,we))),128))]),_:1}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})]),e("div",ke,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:i[1]||(i[1]=t=>f("title"))}," 建立新職稱 ")])]),e("div",$e,[Ae,s(a,{id:"system-access",name:"系統權限",as:"select",class:"form-select",required:"",rules:"required"},{default:h(()=>[xe,Ee]),_:1}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"系統權限"})])]),Me,Ve,e("div",Ce,[e("div",qe,[s(a,{id:"page",name:"頁面",as:"select",class:"form-select",required:"",rules:"required"},{default:h(()=>[Fe,Ne]),_:1}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"頁面"})]),e("div",je,[s(a,{id:"page",name:"權限",as:"select",class:"form-select",required:"",rules:"required"},{default:h(()=>[Be,Se]),_:1}),s(r,{as:"p",class:"invalid-feedback d-block mb-0",name:"權限"})])]),Te,Ue]),_:1})])]),s(ee,{"temp-array":_.value,"array-name":y.value,onDataAdjusted:k},null,8,["temp-array","array-name"])],64)}}},Le={class:"container"},Re={class:"list-unstyled d-flex page-box mb-4"},De={class:"page-item"},Ie={class:"page-item"},ze={class:"bg-white-box mb-2"},Ge={class:"d-flex justify-content-between align-items-end"},He=C('<div class="d-flex gap-2"><div class=""><label for="exampleFormControlInput1" class="form-label">姓名、電話、帳號</label><input type="text" class="form-control" id="exampleFormControlInput1" placeholder="請輸入姓名、電話、帳號"></div><div class=""><label for="country" class="form-label">單位</label><select class="form-select" id="country" required><option value="">請選擇單位</option><option>United States</option></select></div><div class=""><label for="country2" class="form-label">職稱</label><select class="form-select" id="country2" required><option value="">請選擇職稱</option><option>總管理部</option></select></div></div>',1),Je={class:"d-flex gap-2"},Ke={class:"d-flex justify-content-between align-items-end mb-2"},Pe=e("h4",{class:"fw-semibold"},"列表",-1),Qe={class:"d-flex gap-2 align-items-center me-2"},We={class:"mb-0 me-2"},Xe=e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#accountEditOffcanvas","aria-controls":"accountEditOffcanvas"}," 建立新帳號 ",-1),Ye={class:"bg-white-box"},Ze={class:"table-responsive"},es={class:"table table-hover"},ss=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"職稱"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),ts={scope:"row",class:"text-center"},as={class:"ps-2"},os=["src"],ls={class:"ps-2 mb-0"},ns={class:"ps-2"},cs=["onClick"],ds=["onClick"],is={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},rs={class:"modal-dialog modal-dialog-centered"},ms={class:"modal-content bg-white-box"},us=C('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),ps={class:"modal-body"},bs={class:"fw-semibold"},_s={class:"d-flex gap-2 justify-content-center"},hs=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),ys={__name:"AccountMangerView",setup(x){const{userDatas:v,departments:_,titles:y}=R,o=b(v),d=b(null);function f(l){switch(l){case"Admin":return"系統管理員";case"editor":return"編輯者";case"onlyView":return"僅檢視";default:return"無"}}const k=b(null),m=b(null);function i(l){console.log(l)}function a(l){m.value.show(),d.value={...l}}function r(l){o.value=o.value.filter((t,$)=>t.id!==l),d.value=null,m.value.hide()}return T(()=>{k.value=new N(document.querySelector("#addModal"),{keyboard:!1}),m.value=new N(document.querySelector("#delUserModal"),{keyboard:!1})}),(l,t)=>{var q;const $=w("router-link");return u(),p(g,null,[e("div",Le,[e("ul",Re,[e("li",De,[s($,{to:"/access/accountManger",class:"page-link fs-4"},{default:h(()=>[A("帳號")]),_:1})]),e("li",Ie,[s($,{to:"/access/pageManger",class:"page-link fs-4"},{default:h(()=>[A("頁面")]),_:1})])]),e("section",ze,[e("form",Ge,[He,e("div",Je,[e("button",{type:"submit",class:"btn btn-outline-gray fw-semibold",onClick:t[0]||(t[0]=c=>l.clearBtn())}," 清除 "),e("button",{type:"submit",class:"btn btn-gray fw-semibold",onClick:t[1]||(t[1]=c=>l.searchBtn())}," 搜尋 ")])])]),e("section",null,[e("div",Ke,[Pe,e("div",Qe,[e("p",We,"共計："+n(o.value.length)+" 筆",1),Xe])]),e("div",Ye,[e("div",Ze,[e("table",es,[ss,(u(!0),p(g,null,M(o.value,(c,E)=>(u(),p("tbody",{key:c.id},[e("tr",null,[e("th",ts,n(E+1),1),e("td",null,[e("div",as,[e("img",{class:"table-img-head",src:c.photo,alt:""},null,8,os)])]),e("td",null,n(c.department),1),e("td",null,n(c.title),1),e("td",null,n(c.name),1),e("td",null,n(c.phone),1),e("td",null,n(c.account),1),e("td",null,n(f(c.systemAccess)),1),e("td",null,[e("p",ls,[(u(!0),p(g,null,M(c.pageAccess,(V,j)=>(u(),p(g,null,[A(n(j>0?"、":"")+n(V),1)],64))),256))])]),e("td",null,[e("div",ns,[e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold",onClick:V=>i(c)}," 編輯 ",8,cs),e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:V=>a(c)}," 刪除 ",8,ds)])])])]))),128))])])])])]),e("div",is,[e("div",rs,[e("div",ms,[us,e("div",ps,[e("p",null,[A(" 確定要刪除 "),e("span",bs,n((q=d.value)==null?void 0:q.name),1),A(" 的帳號嗎？ ")]),e("div",_s,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:t[2]||(t[2]=c=>{var E;return r((E=d.value)==null?void 0:E.id)})}," 確定刪除 "),hs])])])])]),s(Oe,{titles:F(y),departments:F(_),"add-modal-element":k.value,onClose:l.closeAccountEdit},null,8,["titles","departments","add-modal-element","onClose"])],64)}}};export{ys as default};
