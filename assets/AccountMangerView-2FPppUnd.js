import{O as R,d as Z,M as T}from"./bootstrap.esm-Rs7Aj1ey.js";import{S as O}from"./sweetalert2.all-6XfT6ZgS.js";import{a as b,r as E,o as a,b as o,d as e,e as l,w as _,f as D,g as K,h as W,i as H,F as f,j as V,t as i,u as r,n as X,k as Q}from"./index-OuO_sQKZ.js";import{_ as J}from"./AddModal-F6TMGV0O.js";const G="data:image/png;base64,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",ee={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"static",id:"setPasswordCanvas","aria-labelledby":"accountEditOffcanvasLabel"},se=D('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">設定密碼</h2></div>',2),te={class:"offcanvas-body"},le=e("div",null,null,-1),ae={class:"row g-3"},oe={class:"col-8"},ne=e("label",{for:"password",class:"form-label"},"密碼：",-1),ce={class:"col-8"},de=e("label",{for:"password-chcek",class:"form-label"},"確認密碼：",-1),ie={class:"mt-5 text-center d-flex gap-2"},re=["disabled"],ue={__name:"AccountSetPassword",props:["setPasswordElement","accountEditElement"],setup(w){const p=b(null),C=w;function U(h){p.value.resetForm(),C.setPasswordElement.hide(),C.accountEditElement.hide(),O.fire({icon:"success",title:"已建立",showConfirmButton:!1,timer:2e3})}const I={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",page:""};return(h,m)=>{const x=E("VField"),A=E("ErrorMessage"),n=E("VForm");return a(),o("div",ee,[se,e("div",te,[le,l(n,{ref_key:"setPasswordForm",ref:p,class:"needs-validation h-100 d-flex flex-column justify-content-between",novalidate:""},{default:_(({meta:d})=>[e("div",ae,[e("div",oe,[ne,l(x,{class:"form-control",id:"password",name:"password",type:"password",rules:"required",placeholder:"請輸入密碼"}),l(A,{as:"p",class:"invalid-feedback d-block mb-0",name:"password"})]),e("div",ce,[de,l(x,{class:"form-control",id:"password-chcek",name:"password-chcek",type:"password",rules:"confirmed:@password",placeholder:"請再次輸入密碼",modelValue:I.password,"onUpdate:modelValue":m[0]||(m[0]=q=>I.password=q)},null,8,["modelValue"]),l(A,{as:"p",class:"invalid-feedback d-block mb-0",name:"password-chcek"})])]),e("div",ie,[e("button",{class:"btn btn-outline-gray text-black w-50",type:"button",onClick:m[1]||(m[1]=q=>U())}," 上一步 "),e("button",{class:"btn btn-primary w-50",disabled:!d.valid,type:"button",onClick:m[2]||(m[2]=q=>U(h.value))}," 完成 ",8,re)])]),_:1},512)])])}}},me={class:"offcanvas offcanvas-end account-offcanvas","data-bs-backdrop":"static",tabindex:"-1",id:"accountEditOffcanvas","aria-labelledby":"staticBackdropLabel"},be={class:"offcanvas-header"},pe={class:"offcanvas-title fw-semibold",id:"staticBackdropLabel"},fe={class:"title-word mt-1"},ve=e("span",{class:"colr-block"},null,-1),_e={key:0},he={key:1},ge={class:"offcanvas-body"},ye=e("div",null,[e("img",{src:G,alt:"uploadPhoto"})],-1),ke={class:"row g-3"},we={class:"col-8"},Ae=e("label",{for:"account",class:"form-label"},"帳號：",-1),Ve={class:"col-8"},Ee=e("label",{for:"name",class:"form-label"},"姓名：",-1),Ce={class:"col-8"},Ue=e("label",{for:"tel",class:"form-label"},"電話：",-1),qe={class:"col-12 d-flex select-lable-aligin gap-2"},Ie={class:"col-8"},xe=e("label",{for:"department",class:"form-label"},"單位：",-1),Be=e("option",{value:"",disabled:""},"請選擇單位",-1),Me=["value"],$e={class:"col-4"},Pe={class:"col-12 d-flex select-lable-aligin gap-2"},Qe={class:"col-8"},Se=e("label",{for:"title",class:"form-label"},"職稱：",-1),Fe=e("option",{value:"",disabled:""},"請選擇職稱",-1),ze=["value"],Oe={class:"col-4"},je={class:"col-8"},Ye=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),Ne=e("option",{value:"",disabled:""},"請選擇權限",-1),Le=["value"],Xe=e("hr",{class:"my-4"},null,-1),Ze=e("h3",null,"頁面權限",-1),Te={class:"col-8"},Ke=e("option",{value:"",disabled:""},"請選擇頁面",-1),We=["value"],Re={class:"col-4"},De=e("option",{value:"",disabled:""},"請選擇權限",-1),He=["value"],Je={class:"col-4"},Ge=["disabled"],es={class:"mt-5 text-center"},ss={key:0},ts=["disabled"],ls={key:1},as=["disabled"],os={__name:"AccountEditOffcanvas",props:["departments","titles","systemAccesss","addModalElement","accountEditElement","isNew","tempObject"],setup(w){const p=w,C=b(null),U=b(null),I=b(p.departments),h=b(p.titles),m=b(null),x=Z.webPages,A=Z.pageAccesss,n=K({account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]});let d=K([{page:"",access:""}]);W(()=>p.tempObject,c=>{c!==null&&(Object.assign(n,c),d=c.pageAccess)},{immediate:!0}),W(()=>p.isNew,c=>{c&&q()});const q=()=>{n.account="",n.name="",n.phone="",n.department="",n.title="",n.systemAccess="",n.pageAccess=[{page:"",access:""}],d=[{page:"",access:""}]},j=()=>{d.push({page:"",access:""})};function S(c){m.value.resetForm(),$.value.show()}function Y(c){O.fire({icon:"success",title:"已儲存",showConfirmButton:!1,timer:2e3}),p.accountEditElement.hide()}function N(){O.fire({icon:"success",title:"已移除",showConfirmButton:!1,timer:2e3})}function g(){p.accountEditElement.hide()}function y(c){p.addModalElement.show(),c==="title"?(U.value="title",C.value=[...h.value]):(U.value="department",C.value=[...I.value])}function M(c){switch(c){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return c}}function F(c){switch(c){case"editable":return"編輯者";case"onlyView":return"檢視者";case"del":return"移除權限";default:return c}}function z(c){const{arrayName:s,adjustedArray:u}=c;switch(s){case"title":h.value=u;break;case"department":I.value=u;break;default:console.error(c);break}p.addModalElement.hide()}const $=b(null);return H(()=>{$.value=new R(document.querySelector("#setPasswordCanvas"),{keyboard:!1})}),(c,s)=>{const u=E("VField"),v=E("ErrorMessage"),L=E("VForm");return a(),o(f,null,[e("div",me,[e("div",be,[e("h2",pe,[e("div",fe,[ve,w.isNew?(a(),o("span",_e,"建立新帳號")):(a(),o("span",he,"編輯帳號"))])]),e("button",{type:"button",class:"btn-close rounded-5 bg-gray","aria-label":"Close",onClick:s[0]||(s[0]=P=>g())})]),e("div",ge,[ye,l(L,{ref_key:"editUserForm",ref:m,class:"needs-validation"},{default:_(({meta:P})=>[e("div",ke,[e("div",we,[Ae,l(u,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",required:"",placeholder:"請輸入帳號",modelValue:n.account,"onUpdate:modelValue":s[1]||(s[1]=t=>n.account=t),disabled:!w.isNew},null,8,["modelValue","disabled"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",Ve,[Ee,l(u,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",required:"",placeholder:"請輸入姓名",modelValue:n.name,"onUpdate:modelValue":s[2]||(s[2]=t=>n.name=t)},null,8,["modelValue"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",Ce,[Ue,l(u,{class:"form-control",id:"tel",name:"phone",type:"tel",required:"",rules:"required|digits:10|numeric",placeholder:"請輸入電話",modelValue:n.phone,"onUpdate:modelValue":s[3]||(s[3]=t=>n.phone=t),disabled:!w.isNew},null,8,["modelValue","disabled"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",qe,[e("div",Ie,[xe,l(u,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required",modelValue:n.department,"onUpdate:modelValue":s[4]||(s[4]=t=>n.department=t)},{default:_(()=>[Be,(a(!0),o(f,null,V(I.value,t=>(a(),o("option",{key:t,value:t},i(t),9,Me))),128))]),_:1},8,["modelValue"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",$e,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:s[5]||(s[5]=t=>y("department"))}," 建立新單位 ")])]),e("div",Pe,[e("div",Qe,[Se,l(u,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required",modelValue:n.title,"onUpdate:modelValue":s[6]||(s[6]=t=>n.title=t)},{default:_(()=>[Fe,(a(!0),o(f,null,V(h.value,t=>(a(),o("option",{key:t,value:t},i(t),9,ze))),128))]),_:1},8,["modelValue"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:"title"})]),e("div",Oe,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:s[7]||(s[7]=t=>y("title"))}," 建立新職稱 ")])]),e("div",je,[Ye,l(u,{id:"system-access",name:"system-access",as:"select",class:"form-select",required:"",rules:"required",modelValue:n.systemAccess,"onUpdate:modelValue":s[8]||(s[8]=t=>n.systemAccess=t)},{default:_(()=>[Ne,(a(!0),o(f,null,V(w.systemAccesss,t=>(a(),o("option",{key:t,value:t},i(M(t)),9,Le))),128))]),_:1},8,["modelValue"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:"system-access"})])]),Xe,Ze,(a(!0),o(f,null,V(r(d),(t,B)=>(a(),o("div",{key:t.key,class:"col-12 d-flex align-items-start gap-2 mb-3"},[e("div",Te,[l(u,{id:`page-${B}`,name:`page-${B}`,as:"select",class:"form-select",required:"",rules:"required",modelValue:t.page,"onUpdate:modelValue":k=>t.page=k,disabled:t.page!==""},{default:_(()=>[Ke,(a(!0),o(f,null,V(r(x),k=>(a(),o("option",{key:k,value:k},i(k),9,We))),128))]),_:2},1032,["id","name","modelValue","onUpdate:modelValue","disabled"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:`page-${B}`},null,8,["name"])]),e("div",Re,[l(u,{id:`page-access-${B}`,name:`page-access-${B}`,as:"select",class:"form-select",required:"",rules:"required",modelValue:t.access,"onUpdate:modelValue":k=>t.access=k},{default:_(()=>[De,(a(!0),o(f,null,V(r(A),k=>(a(),o("option",{key:k,value:k},i(F(k)),9,He))),128)),e("option",null,[e("button",{type:"button",onClick:N},"移除權限")])]),_:2},1032,["id","name","modelValue","onUpdate:modelValue"]),l(v,{as:"p",class:"invalid-feedback d-block mb-0",name:`page-access-${B}`},null,8,["name"])])]))),128)),e("div",Je,[e("button",{type:"button",class:X(["btn",{"btn-outline-gray":r(d)&&r(d)[r(d).length-1].page==="","btn-outline-primary":!(r(d)&&r(d)[r(d).length-1].page==="")}]),onClick:j,disabled:r(d)&&r(d)[r(d).length-1].page===""},"新增頁面",10,Ge)]),e("div",es,[w.isNew?(a(),o("span",ss,[e("button",{class:X(["btn btn-primary w-50",[P.valid?"btn-primary":"btn-gray"]]),disabled:!P.valid,type:"button",onClick:s[9]||(s[9]=t=>S())}," 下一步 ",10,ts)])):(a(),o("span",ls,[e("button",{class:X(["btn btn-primary w-50",[P.valid?"btn-primary":"btn-gray"]]),disabled:!P.valid,type:"button",onClick:s[10]||(s[10]=t=>Y())}," 儲存 ",10,as)]))])]),_:1},512)])]),l(J,{"temp-array":C.value,"array-name":U.value,onDataAdjusted:z},null,8,["temp-array","array-name"]),l(ue,{"set-password-element":$.value,"account-edit-element":w.accountEditElement},null,8,["set-password-element","account-edit-element"])],64)}}},ns={class:"container"},cs={class:"list-unstyled d-flex page-box mb-4"},ds={class:"page-item"},is={class:"page-item"},rs={class:"bg-white-box mb-2"},us={class:"d-flex gap-2"},ms=e("div",{class:""},[e("label",{for:"exampleFormControlInput1",class:"form-label"},"姓名、電話、帳號"),e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"請輸入姓名、電話、帳號"})],-1),bs={class:""},ps=e("label",{for:"search-department",class:"form-label"},"單位",-1),fs=e("option",{value:"",disabled:""},"請選擇單位",-1),vs=["value"],_s={class:""},hs=e("label",{for:"search-title",class:"form-label"},"職稱",-1),gs=e("option",{value:"",disabled:""},"請選擇職稱",-1),ys=["value"],ks=e("div",{class:"d-flex gap-2"},[e("button",{type:"submit",class:"btn btn-outline-gray fw-semibold"}," 清除 "),e("button",{type:"submit",class:"btn btn-gray fw-semibold"},"搜尋")],-1),ws={class:"d-flex justify-content-between align-items-end mb-2"},As=e("h4",{class:"fw-semibold"},"列表",-1),Vs={class:"d-flex gap-2 align-items-center me-2"},Es={class:"mb-0 me-2"},Cs={class:"bg-white-box"},Us={class:"table-responsive"},qs={class:"table table-hover"},Is=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),xs={scope:"row",class:"text-center"},Bs={class:"ps-2"},Ms=["src"],$s={class:"ps-2 mb-0"},Ps={class:"ps-2"},Qs=["onClick"],Ss=["onClick"],Fs={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},zs={class:"modal-dialog modal-dialog-centered"},Os={class:"modal-content bg-white-box"},js=D('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),Ys={class:"modal-body"},Ns={class:"fw-semibold"},Ls={class:"d-flex gap-2 justify-content-center"},Xs=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),Rs={__name:"AccountMangerView",setup(w){const{userDatas:p,departments:C,titles:U,systemAccesss:I}=Z,h=b(p),m=b(null),x=b(null),A=b(null),n=b(null),d=b(null),q=b(null);function j(g){switch(g){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return g}}function S(g,y){y==="new"?(x.value=!0,A.value={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]}):(x.value=!1,A.value={...g},console.log(A.value)),d.value.show()}function Y(g){q.value.show(),m.value={...g}}function N(g){h.value=h.value.filter((y,M)=>y.id!==g),m.value=null,q.value.hide(),O.fire({icon:"success",title:"已刪除",showConfirmButton:!1,timer:2e3})}return H(()=>{d.value=new R("#accountEditOffcanvas",{keyboard:!1}),n.value=new T(document.querySelector("#addModal"),{keyboard:!1}),q.value=new T(document.querySelector("#delUserModal"),{keyboard:!1})}),(g,y)=>{var c;const M=E("router-link"),F=E("VField"),z=E("ErrorMessage"),$=E("VForm");return a(),o(f,null,[e("div",ns,[e("ul",cs,[e("li",ds,[l(M,{to:"/access/accountManger",class:"page-link fs-4"},{default:_(()=>[Q("帳號")]),_:1})]),e("li",is,[l(M,{to:"/access/pageManger",class:"page-link fs-4"},{default:_(()=>[Q("頁面")]),_:1})])]),e("section",rs,[l($,{class:"d-flex justify-content-between align-items-end"},{default:_(()=>[e("div",us,[ms,e("div",bs,[ps,l(F,{id:"search-department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:_(()=>[fs,(a(!0),o(f,null,V(r(C),s=>(a(),o("option",{key:s,value:s},i(s),9,vs))),128))]),_:1}),l(z,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",_s,[hs,l(F,{id:"search-title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:_(()=>[gs,(a(!0),o(f,null,V(r(U),s=>(a(),o("option",{key:s,value:s},i(s),9,ys))),128))]),_:1}),l(z,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})])]),ks]),_:1})]),e("section",null,[e("div",ws,[As,e("div",Vs,[e("p",Es,"共計："+i(h.value.length)+" 筆",1),e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","aria-controls":"staticBackdrop",onClick:y[0]||(y[0]=s=>S(A.value,"new"))}," 建立新帳號 ")])]),e("div",Cs,[e("div",Us,[e("table",qs,[Is,(a(!0),o(f,null,V(h.value,(s,u)=>(a(),o("tbody",{key:s.id},[e("tr",null,[e("th",xs,i(u+1),1),e("td",null,[e("div",Bs,[e("img",{class:"table-img-head",src:s.photo,alt:""},null,8,Ms)])]),e("td",null,i(s.department),1),e("td",null,i(s.title),1),e("td",null,i(s.name),1),e("td",null,i(s.phone),1),e("td",null,i(s.account),1),e("td",null,i(j(s.systemAccess)),1),e("td",null,[e("p",$s,[(a(!0),o(f,null,V(s.pageAccess,(v,L)=>(a(),o(f,null,[Q(i(L>0?"、":"")+i(v.page),1)],64))),256))])]),e("td",null,[e("div",Ps,[e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold","aria-controls":"staticBackdrop",onClick:v=>S(s,"edit")}," 編輯 ",8,Qs),e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:v=>Y(s)}," 刪除 ",8,Ss)])])])]))),128))])])])])]),e("div",Fs,[e("div",zs,[e("div",Os,[js,e("div",Ys,[e("p",null,[Q(" 確定要刪除 "),e("span",Ns,i((c=m.value)==null?void 0:c.name),1),Q(" 的帳號嗎？ ")]),e("div",Ls,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:y[1]||(y[1]=s=>{var u;return N((u=m.value)==null?void 0:u.id)})}," 確定刪除 "),Xs])])])])]),l(os,{titles:r(U),departments:r(C),"system-accesss":r(I),"is-new":x.value,"temp-object":A.value,"add-modal-element":n.value,"account-edit-element":d.value},null,8,["titles","departments","system-accesss","is-new","temp-object","add-modal-element","account-edit-element"])],64)}}};export{Rs as default};
