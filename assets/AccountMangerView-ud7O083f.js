import{a as u,b as z,M as j,d as c,e,f as s,w as n,g as G,t as o,F as m,h as _,i as h,j as f,r as x,o as i,n as B}from"./index-3t4K2BwQ.js";const H=[{id:"1",photo:"/ihouse_ems/assets/Ellipse603-kx7GiU55.png",department:"總管理部",title:"總經理",name:"王柏宏",phone:"0912345678",account:"Trunk234",password:"123",systemAccess:"Admin",pageAccess:["首頁","用電分析","目標管理","能源管理","人流監控"]},{id:"2",photo:"/ihouse_ems/assets/Ellipse607-fUo7B-AN.png",department:"工環部",title:"製造主管",name:"毛恩桂",phone:"0912358392",account:"Capt.677",password:"123",systemAccess:"editor",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"3",photo:"/ihouse_ems/assets/Ellipse603-kx7GiU55.png",department:"資材部",title:"營運經理",name:"吳雅裕",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"4",photo:"/ihouse_ems/assets/Ellipse607-fUo7B-AN.png",department:"資材部",title:"營運經理",name:"吳建霖",phone:"0989828172",account:"Mike123",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"5",photo:"/ihouse_ems/assets/Ellipse608-xMzkTYuV",department:"生產部",title:"生產管理人員",name:"連維利",phone:"0912385982",account:"Templeton51",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"6",photo:"/ihouse_ems/assets/Ellipse603-kx7GiU55.png",department:"生產部",title:"生產技術",name:"程祐心",phone:"0935839182",account:"Devon677",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"7",photo:"/ihouse_ems/assets/Ellipse603-kx7GiU55.png",department:"開發部",title:"專案工程師",name:"王曼西",phone:"0966839182",account:"Mike566",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"8",photo:"/ihouse_ems/assets/Ellipse608-xMzkTYuV",department:"開發部",title:"專案工程師",name:"李昭維",phone:"0923183929",account:"Angu233",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"9",photo:"/ihouse_ems/assets/Ellipse608-xMzkTYuV",department:"開發部",title:"專案工程師",name:"劉寶桓",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"10",photo:"/ihouse_ems/assets/Ellipse603-kx7GiU55.png",department:"開發部",title:"專案工程師",name:"陳曉明",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]}],J=["總管理部","工環部","資材部","生產部","開發部"],K=["總經理","製造主管","營運經理","生產管理人員","生產技術","專案工程師"],O={userDatas:H,departments:J,titles:K},Q={class:"container"},W={class:"list-unstyled d-flex page-box mb-4"},X={class:"page-item"},Y={class:"page-item"},Z={class:"bg-white-box mb-2"},D={class:"d-flex justify-content-between align-items-end"},ee=f('<div class="d-flex gap-2"><div class=""><label for="exampleFormControlInput1" class="form-label">姓名、電話、帳號</label><input type="text" class="form-control" id="exampleFormControlInput1" placeholder="請輸入姓名、電話、帳號"></div><div class=""><label for="country" class="form-label">單位</label><select class="form-select" id="country" required><option value="">請選擇單位</option><option>United States</option></select><div class="invalid-feedback d-none"> Please select a valid country. </div></div><div class=""><label for="country2" class="form-label">職稱</label><select class="form-select" id="country2" required><option value="">請選擇職稱</option><option>總管理部</option></select><div class="invalid-feedback d-none"> Please select a valid country. </div></div></div>',1),se={class:"d-flex gap-2"},te={class:"d-flex justify-content-between align-items-end mb-2"},ae=e("h4",{class:"fw-semibold"},"列表",-1),le={class:"d-flex gap-2 align-items-center me-2"},oe={class:"mb-0 me-2"},de=e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample"}," 建立新帳號 ",-1),ne={class:"bg-white-box"},ce={class:"table-responsive"},ie={class:"table table-hover"},re=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"職稱"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),be={scope:"row",class:"text-center"},ue={class:"ps-2"},me=["src"],pe={class:"ps-2 mb-0"},_e={class:"ps-2"},ve=e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasEditUser","aria-controls":"offcanvasEditUser"}," 編輯 ",-1),he=["onClick"],fe={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"staticSS",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},ye=f('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1 mb-3"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">建立新帳號</h2></div>',2),ge={class:"offcanvas-body"},ke={class:"row g-3"},we={class:"col-8"},xe=e("label",{for:"account",class:"form-label"},"帳號：",-1),qe={class:"col-8"},Ae=e("label",{for:"name",class:"form-label"},"姓名：",-1),Ee={class:"col-8"},Ve=e("label",{for:"tel",class:"form-label"},"電話：",-1),Ce={class:"col-12 d-flex align-items-end gap-2"},Me={class:"col-8"},Fe=e("label",{for:"department",class:"form-label"},"單位：",-1),Se=e("option",{value:"",disabled:""},"請選擇單位",-1),Ue=["value"],$e={class:"col-4"},je={class:"col-12 d-flex align-items-end gap-2"},Be={class:"col-8"},Le=e("label",{for:"title",class:"form-label"},"職稱：",-1),Ne=e("option",{value:"",disabled:""},"請選擇職稱",-1),Te=["value"],Re={class:"col-4"},Ie={class:"col-8"},Pe=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),ze=e("option",{value:"",disabled:""},"請選擇權限",-1),Ge=e("option",{value:"1"},"1",-1),He=e("hr",{class:"my-4"},null,-1),Je=e("h3",null,"頁面權限",-1),Ke={class:"col-12 d-flex align-items-end gap-2"},Oe={class:"col-8"},Qe=e("option",{value:"",disabled:""},"請選擇頁面",-1),We=e("option",{value:"1"},"1",-1),Xe={class:"col-4"},Ye=e("option",{value:"",disabled:""},"請選擇",-1),Ze=e("option",{value:"1"},"1",-1),De=e("div",{class:"col-4"},[e("button",{type:"button",class:"btn btn-outline-gray"},"新增頁面")],-1),es=e("div",{class:"mt-5 text-center"},[e("button",{class:"btn btn-primary w-50",type:"submit"},"下一步")],-1),ss={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"staticSS",id:"offcanvasEditUser","aria-labelledby":"offcanvasExampleLabel"},ts=f('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1 mb-3"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">編輯帳號</h2></div>',2),as={class:"offcanvas-body"},ls={class:"row g-3"},os={class:"col-8"},ds=e("label",{for:"account",class:"form-label"},"帳號：",-1),ns={class:"col-8"},cs=e("label",{for:"name",class:"form-label"},"姓名：",-1),is={class:"col-8"},rs=e("label",{for:"tel",class:"form-label"},"電話：",-1),bs={class:"col-12 d-flex align-items-end gap-2"},us={class:"col-8"},ms=e("label",{for:"department",class:"form-label"},"單位：",-1),ps=e("option",{value:"",disabled:""},"請選擇單位",-1),_s=["value"],vs={class:"col-4"},hs={class:"col-12 d-flex align-items-end gap-2"},fs={class:"col-8"},ys=e("label",{for:"title",class:"form-label"},"職稱：",-1),gs=e("option",{value:"",disabled:""},"請選擇職稱",-1),ks=["value"],ws={class:"col-4"},xs={class:"col-8"},qs=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),As=e("option",{value:"",disabled:""},"請選擇權限",-1),Es=e("option",{value:"1"},"1",-1),Vs=e("hr",{class:"my-4"},null,-1),Cs=e("h3",null,"頁面權限",-1),Ms={class:"col-12 d-flex align-items-end gap-2"},Fs={class:"col-8"},Ss=e("option",{value:"",disabled:""},"請選擇頁面",-1),Us=e("option",{value:"1"},"1",-1),$s={class:"col-4"},js=e("option",{value:"",disabled:""},"請選擇",-1),Bs=e("option",{value:"1"},"1",-1),Ls=e("div",{class:"col-4"},[e("button",{type:"button",class:"btn btn-outline-gray"},"新增頁面")],-1),Ns=e("div",{class:"mt-5 text-center"},[e("button",{class:"btn btn-primary w-50",type:"submit"},"下一步")],-1),Ts={class:"modal fade",id:"addModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Rs={class:"modal-dialog modal-dialog-centered"},Is={class:"modal-content bg-white-box"},Ps={class:"modal-header border-0"},zs={class:"title-word"},Gs=e("span",{class:"colr-block"},null,-1),Hs={class:"mb-0 fw-semibold"},Js=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ks={class:"modal-body"},Os={class:"mb-3"},Qs={for:"inputField",class:"form-label"},Ws={class:"text-center"},Xs=["disabled"],Ys={class:"modal fade",id:"editUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Zs={class:"modal-dialog modal-dialog-centered"},Ds={class:"modal-content bg-white-box"},et=f('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">編輯帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),st={class:"modal-body"},tt={class:"mb-3"},at={for:"inputField",class:"form-label"},lt={class:"text-center"},ot=["disabled"],dt={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},nt={class:"modal-dialog modal-dialog-centered"},ct={class:"modal-content bg-white-box"},it=f('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),rt={class:"modal-body"},bt={class:"fw-semibold"},ut={class:"d-flex gap-2 justify-content-center"},mt=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),vt={__name:"AccountMangerView",setup(pt){const{userDatas:L,departments:N,titles:T}=O,y=u(L),q=u(N),A=u(T),b=u(null),g=u(null),p=u(null);let E="";function F(r){console.log(r)}const V=u(null),C=u(null),S=u(null);function U(){E.value.push(b.value),V.value.hide(),b.value=null}function k(r){V.value.show(),r==="title"?(p.value="職稱",E=A):(p.value="單位名稱",E=q)}function R(r){C.value.show(),g.value={...r}}function I(r){y.value=y.value.filter((a,M)=>a.id!==r),g.value=null,C.value.hide()}return z(()=>{V.value=new j(document.querySelector("#addModal"),{keyboard:!1}),C.value=new j(document.querySelector("#delUserModal"),{keyboard:!1})}),(r,a)=>{var $;const M=x("router-link"),l=x("VField"),d=x("ErrorMessage"),w=x("VForm");return i(),c(m,null,[e("div",Q,[e("ul",W,[e("li",X,[s(M,{to:"/access/accountManger",class:"page-link fs-4"},{default:n(()=>[h("帳號")]),_:1})]),e("li",Y,[s(M,{to:"/access/pageManger",class:"page-link fs-4"},{default:n(()=>[h("頁面")]),_:1})])]),e("section",Z,[e("form",D,[ee,e("div",se,[e("button",{type:"submit",class:"btn btn-outline-gray fw-semibold",onClick:a[0]||(a[0]=t=>r.clearBtn())}," 清除 "),r.invalidFeedback?G("",!0):(i(),c("button",{key:0,type:"submit",class:"btn btn-gray fw-semibold",onClick:a[1]||(a[1]=t=>r.searchBtn())},"搜尋"))])])]),e("section",null,[e("div",te,[ae,e("div",le,[e("p",oe,"共計："+o(y.value.length)+" 筆",1),de])]),e("div",ne,[e("div",ce,[e("table",ie,[re,(i(!0),c(m,null,_(y.value,t=>(i(),c("tbody",{key:t.id},[e("tr",null,[e("th",be,o(t.id),1),e("td",null,[e("div",ue,[e("img",{class:"table-img-head",src:t.photo,alt:""},null,8,me)])]),e("td",null,o(t.department),1),e("td",null,o(t.title),1),e("td",null,o(t.name),1),e("td",null,o(t.phone),1),e("td",null,o(t.account),1),e("td",null,o(t.systemAccess),1),e("td",null,[e("p",pe,[(i(!0),c(m,null,_(t.pageAccess,(v,P)=>(i(),c(m,null,[h(o(P>0?"、":"")+o(v),1)],64))),256))])]),e("td",null,[e("div",_e,[ve,e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:v=>R(t)}," 刪除 ",8,he)])])])]))),128))])])])])]),e("div",fe,[ye,e("div",ge,[s(w,{class:"needs-validation",onSubmit:F,novalidate:""},{default:n(()=>[e("div",ke,[e("div",we,[xe,s(l,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",placeholder:"請輸入帳號"}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",qe,[Ae,s(l,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",placeholder:"請輸入姓名"}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",Ee,[Ve,s(l,{class:"form-control",id:"tel",name:"phone",type:"tel",rules:"required|digits:10|numeric",placeholder:"請輸入電話"}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",Ce,[e("div",Me,[Fe,s(l,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[Se,(i(!0),c(m,null,_(q.value,t=>(i(),c("option",{key:t,value:t},o(t),9,Ue))),128))]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",$e,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:a[2]||(a[2]=t=>k("department"))}," 建立新單位 ")])]),e("div",je,[e("div",Be,[Le,s(l,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[Ne,(i(!0),c(m,null,_(A.value,t=>(i(),c("option",{key:t,value:t},o(t),9,Te))),128))]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})]),e("div",Re,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:a[3]||(a[3]=t=>k("title"))}," 建立新職稱 ")])]),e("div",Ie,[Pe,s(l,{id:"system-access",name:"系統權限",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[ze,Ge]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"系統權限"})])]),He,Je,e("div",Ke,[e("div",Oe,[s(l,{id:"page",name:"頁面",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[Qe,We]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"頁面"})]),e("div",Xe,[s(l,{id:"page",name:"權限",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[Ye,Ze]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"權限"})])]),De,es]),_:1})])]),e("div",ss,[ts,e("div",as,[s(w,{class:"needs-validation",onSubmit:F,novalidate:""},{default:n(()=>[e("div",ls,[e("div",os,[ds,s(l,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",placeholder:"請輸入帳號"}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",ns,[cs,s(l,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",placeholder:"請輸入姓名"}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",is,[rs,s(l,{class:"form-control",id:"tel",name:"phone",type:"tel",rules:"required|digits:10|numeric",placeholder:"請輸入電話"}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",bs,[e("div",us,[ms,s(l,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[ps,(i(!0),c(m,null,_(q.value,t=>(i(),c("option",{key:t,value:t},o(t),9,_s))),128))]),_:1})]),e("div",vs,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:a[4]||(a[4]=t=>k("department"))}," 建立新單位 ")])]),e("div",hs,[e("div",fs,[ys,s(l,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[gs,(i(!0),c(m,null,_(A.value,t=>(i(),c("option",{key:t,value:t},o(t),9,ks))),128))]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})]),e("div",ws,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:a[5]||(a[5]=t=>k("title"))}," 建立新職稱 ")])]),e("div",xs,[qs,s(l,{id:"system-access",name:"系統權限",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[As,Es]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"系統權限"})])]),Vs,Cs,e("div",Ms,[e("div",Fs,[s(l,{id:"page",name:"頁面",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[Ss,Us]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"頁面"})]),e("div",$s,[s(l,{id:"page",name:"權限",as:"select",class:"form-select",required:"",rules:"required"},{default:n(()=>[js,Bs]),_:1}),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"權限"})])]),Ls,Ns]),_:1})])]),e("div",Ts,[e("div",Rs,[e("div",Is,[e("div",Ps,[e("div",zs,[Gs,e("h2",Hs,"建立新"+o(p.value),1)]),Js]),e("div",Ks,[s(w,{ref_key:"addForm",ref:S,onSubmit:U},{default:n(()=>[e("div",Os,[e("label",Qs,o(p.value)+"：",1),s(l,{class:"form-control",id:"inputField",name:"data",type:"test",rules:"required",modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=t=>b.value=t),placeholder:`請輸入${p.value}`},null,8,["modelValue","placeholder"]),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"data"})]),e("div",Ws,[e("button",{type:"submit",class:B(["fw-semibold",["btn",b.value?"btn-primary":"btn-gray"]]),disabled:!b.value}," 儲存 ",10,Xs)])]),_:1},512)])])])]),e("div",Ys,[e("div",Zs,[e("div",Ds,[et,e("div",st,[s(w,{ref_key:"addForm",ref:S,onSubmit:U},{default:n(()=>[e("div",tt,[e("label",at,o(p.value)+"：",1),s(l,{class:"form-control",id:"inputField",name:"data",type:"test",rules:"required",modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=t=>b.value=t),placeholder:`請輸入${p.value}`},null,8,["modelValue","placeholder"]),s(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"data"})]),e("div",lt,[e("button",{type:"submit",class:B(["fw-semibold",["btn",b.value?"btn-primary":"btn-gray"]]),disabled:!b.value}," 儲存 ",10,ot)])]),_:1},512)])])])]),e("div",dt,[e("div",nt,[e("div",ct,[it,e("div",rt,[e("p",null,[h("確定要刪除 "),e("span",bt,o(($=g.value)==null?void 0:$.name),1),h(" 的帳號嗎？")]),e("div",ut,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:a[8]||(a[8]=t=>{var v;return I((v=g.value)==null?void 0:v.id)})}," 確定刪除 "),mt])])])])])],64)}}};export{vt as default};
