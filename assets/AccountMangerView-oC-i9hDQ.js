import{a as c,b as B,M as F,d,e,f as t,w as i,t as o,F as p,g,h,i as M,r as y,o as r,n as L}from"./index-szNHyEGu.js";const R=[{id:"1",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"總管理部",title:"總經理",name:"王柏宏",phone:"0912345678",account:"Trunk234",password:"123",systemAccess:"Admin",pageAccess:["首頁","用電分析","目標管理","能源管理","人流監控"]},{id:"2",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"工環部",title:"製造主管",name:"毛恩桂",phone:"0912358392",account:"Capt.677",password:"123",systemAccess:"editor",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"3",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"資材部",title:"營運經理",name:"吳雅裕",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"4",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"資材部",title:"營運經理",name:"吳建霖",phone:"0989828172",account:"Mike123",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"5",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"生產部",title:"生產管理人員",name:"連維利",phone:"0912385982",account:"Templeton51",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"6",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"生產部",title:"生產技術",name:"程祐心",phone:"0935839182",account:"Devon677",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"7",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"開發部",title:"專案工程師",name:"王曼西",phone:"0966839182",account:"Mike566",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"8",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"開發部",title:"專案工程師",name:"李昭維",phone:"0923183929",account:"Angu233",password:"123",systemAccess:"onlyView",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"9",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"開發部",title:"專案工程師",name:"劉寶桓",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]},{id:"10",photo:"https://i.imgur.com/1zYQZ3U.jpg",department:"開發部",title:"專案工程師",name:"陳曉明",phone:"0988938573",account:"Tony822",password:"123",systemAccess:"deactivate",pageAccess:["用電分析","目標管理","能源管理","人流監控"]}],I=["總管理部","工環部","資材部","生產部","開發部"],P=["總經理","製造主管","營運經理","生產管理人員","生產技術","專案工程師"],G={userDatas:R,departments:I,titles:P},H={class:"container"},J={class:"list-unstyled d-flex page-box mb-4"},K={class:"page-item"},O={class:"page-item"},W=M('<section class="bg-white-box mb-2"><form class="d-flex justify-content-between align-items-end"><div class="d-flex gap-2"><div class=""><label for="exampleFormControlInput1" class="form-label">姓名、電話、帳號</label><input type="text" class="form-control" id="exampleFormControlInput1" placeholder="請輸入姓名、電話、帳號"></div><div class=""><label for="country" class="form-label">單位</label><select class="form-select" id="country" required><option value="">請選擇單位</option><option>United States</option></select><div class="invalid-feedback d-block"> Please select a valid country. </div></div><div class=""><label for="country2" class="form-label">職稱</label><select class="form-select" id="country2" required><option value="">請選擇職稱</option><option>United States</option></select><div class="invalid-feedback d-block"> Please select a valid country. </div></div></div><div class="d-flex gap-2"><button type="submit" class="btn btn-outline-gray fw-semibold"> 清除 </button><button type="submit" class="btn btn-gray fw-semibold">搜尋</button></div></form></section>',1),X={class:"d-flex justify-content-between align-items-end mb-2"},D=e("h4",{class:"fw-semibold"},"列表",-1),ee={class:"d-flex gap-2 align-items-center me-2"},se={class:"mb-0 me-2"},te=e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample"}," 建立新帳號 ",-1),oe={class:"bg-white-box"},le={class:"table-responsive"},ae={class:"table table-hover"},ne=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),ce={scope:"row",class:"text-center"},de={class:"ps-2"},ie=["src"],re={class:"ps-2 mb-0"},me={class:"ps-2"},ue=e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold"}," 編輯 ",-1),pe=["onClick"],be={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"staticSS",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},_e=M('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1 mb-3"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">建立新帳號</h2></div>',2),he={class:"offcanvas-body"},ve={class:"row g-3"},fe={class:"col-8"},ge=e("label",{for:"account",class:"form-label"},"帳號：",-1),ye={class:"col-8"},we=e("label",{for:"name",class:"form-label"},"姓名：",-1),ke={class:"col-8"},xe=e("label",{for:"tel",class:"form-label"},"電話：",-1),Ae={class:"col-12 d-flex align-items-end gap-2"},Me={class:"col-8"},qe=e("label",{for:"department",class:"form-label"},"單位：",-1),Ue=e("option",{value:"",disabled:""},"請選擇單位",-1),Ve=["value"],je={class:"col-4"},Ce={class:"col-12 d-flex align-items-end gap-2"},Fe={class:"col-8"},ze=e("label",{for:"title",class:"form-label"},"職稱：",-1),Se=e("option",{value:"",disabled:""},"請選擇職稱",-1),Qe=["value"],Ye={class:"col-4"},Ze={class:"col-8"},Ee=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),Te=e("option",{value:"",disabled:""},"請選擇權限",-1),Ne=e("option",{value:"1"},"1",-1),$e=e("hr",{class:"my-4"},null,-1),Be=e("h3",null,"頁面權限",-1),Le={class:"col-12 d-flex align-items-end gap-2"},Re={class:"col-8"},Ie=e("option",{value:"",disabled:""},"請選擇頁面",-1),Pe=e("option",{value:"1"},"1",-1),Ge={class:"col-4"},He=e("option",{value:"",disabled:""},"請選擇",-1),Je=e("option",{value:"1"},"1",-1),Ke=e("div",{class:"col-4"},[e("button",{type:"button",class:"btn btn-outline-gray"},"新增頁面")],-1),Oe=e("div",{class:"mt-5 text-center"},[e("button",{class:"btn btn-primary w-50",type:"submit"},"下一步")],-1),We={class:"modal fade",id:"addModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Xe={class:"modal-dialog modal-dialog-centered"},De={class:"modal-content bg-white-box"},es={class:"modal-header border-0"},ss={class:"title-word"},ts=e("span",{class:"colr-block"},null,-1),os={class:"mb-0 fw-semibold"},ls=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),as={class:"modal-body"},ns={class:"mb-3"},cs={for:"inputField",class:"form-label"},ds={class:"text-center"},is=["disabled"],rs={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ms={class:"modal-dialog modal-dialog-centered"},us={class:"modal-content bg-white-box"},ps=M('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),bs={class:"modal-body"},_s={class:"fw-semibold"},hs={class:"d-flex gap-2 justify-content-center"},vs=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),ys={__name:"AccountMangerView",setup(fs){const{userDatas:z,departments:S,titles:Q}=G,v=c(z),q=c(S),U=c(Q),u=c(null),f=c(null),b=c(null);let w="";function Y(m){console.log(m)}const k=c(null),x=c(null),Z=c(null);function E(){w.value.push(u.value),k.value.hide(),u.value=null}function V(m){k.value.show(),m==="title"?(b.value="職稱",w=U):(b.value="單位名稱",w=q)}function T(m){x.value.show(),f.value={...m}}function N(m){v.value=v.value.filter((l,A)=>l.id!==m),f.value=null,x.value.hide()}return B(()=>{k.value=new F(document.querySelector("#addModal"),{keyboard:!1}),x.value=new F(document.querySelector("#delUserModal"),{keyboard:!1})}),(m,l)=>{var C;const A=y("router-link"),a=y("VField"),n=y("ErrorMessage"),j=y("VForm");return r(),d(p,null,[e("div",H,[e("ul",J,[e("li",K,[t(A,{to:"/access/accountManger",class:"page-link fs-4"},{default:i(()=>[h("帳號")]),_:1})]),e("li",O,[t(A,{to:"/access/pageManger",class:"page-link fs-4"},{default:i(()=>[h("頁面")]),_:1})])]),W,e("section",null,[e("div",X,[D,e("div",ee,[e("p",se,"共計："+o(v.value.length)+" 筆",1),te])]),e("div",oe,[e("div",le,[e("table",ae,[ne,(r(!0),d(p,null,g(v.value,s=>(r(),d("tbody",{key:s.id},[e("tr",null,[e("th",ce,o(s.id),1),e("td",null,[e("div",de,[e("img",{class:"table-img-head",src:s.photo,alt:""},null,8,ie)])]),e("td",null,o(s.department),1),e("td",null,o(s.title),1),e("td",null,o(s.name),1),e("td",null,o(s.phone),1),e("td",null,o(s.account),1),e("td",null,o(s.systemAccess),1),e("td",null,[e("p",re,[(r(!0),d(p,null,g(s.pageAccess,(_,$)=>(r(),d(p,null,[h(o($>0?"、":"")+o(_),1)],64))),256))])]),e("td",null,[e("div",me,[ue,e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:_=>T(s)}," 刪除 ",8,pe)])])])]))),128))])])])])]),e("div",be,[_e,e("div",he,[t(j,{class:"needs-validation",onSubmit:Y,novalidate:""},{default:i(()=>[e("div",ve,[e("div",fe,[ge,t(a,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",placeholder:"請輸入帳號"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",ye,[we,t(a,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",placeholder:"請輸入姓名"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",ke,[xe,t(a,{class:"form-control",id:"tel",name:"phone",type:"tel",rules:"required|digits:10|numeric",placeholder:"請輸入電話"}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",Ae,[e("div",Me,[qe,t(a,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:i(()=>[Ue,(r(!0),d(p,null,g(q.value,s=>(r(),d("option",{key:s,value:s},o(s),9,Ve))),128))]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",je,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:l[0]||(l[0]=s=>V("department"))}," 建立新單位 ")])]),e("div",Ce,[e("div",Fe,[ze,t(a,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:i(()=>[Se,(r(!0),d(p,null,g(U.value,s=>(r(),d("option",{key:s,value:s},o(s),9,Qe))),128))]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})]),e("div",Ye,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:l[1]||(l[1]=s=>V("title"))}," 建立新職稱 ")])]),e("div",Ze,[Ee,t(a,{id:"system-access",name:"系統權限",as:"select",class:"form-select",required:"",rules:"required"},{default:i(()=>[Te,Ne]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"系統權限"})])]),$e,Be,e("div",Le,[e("div",Re,[t(a,{id:"page",name:"頁面",as:"select",class:"form-select",required:"",rules:"required"},{default:i(()=>[Ie,Pe]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"頁面"})]),e("div",Ge,[t(a,{id:"page",name:"權限",as:"select",class:"form-select",required:"",rules:"required"},{default:i(()=>[He,Je]),_:1}),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"權限"})])]),Ke,Oe]),_:1})])]),e("div",We,[e("div",Xe,[e("div",De,[e("div",es,[e("div",ss,[ts,e("h2",os,"建立新"+o(b.value),1)]),ls]),e("div",as,[t(j,{ref_key:"addForm",ref:Z,onSubmit:E},{default:i(()=>[e("div",ns,[e("label",cs,o(b.value)+"：",1),t(a,{class:"form-control",id:"inputField",name:"data",type:"test",rules:"required",modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=s=>u.value=s),placeholder:`請輸入${b.value}`},null,8,["modelValue","placeholder"]),t(n,{as:"p",class:"invalid-feedback d-block mb-0",name:"data"})]),e("div",ds,[e("button",{type:"submit",class:L(["fw-semibold",["btn",u.value?"btn-primary":"btn-gray"]]),disabled:!u.value}," 儲存 ",10,is)])]),_:1},512)])])])]),e("div",rs,[e("div",ms,[e("div",us,[ps,e("div",bs,[e("p",null,[h("確定要刪除 "),e("span",_s,o((C=f.value)==null?void 0:C.name),1),h(" 的帳號嗎？")]),e("div",hs,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:l[3]||(l[3]=s=>{var _;return N((_=f.value)==null?void 0:_.id)})}," 確定刪除 "),vs])])])])])],64)}}};export{ys as default};
