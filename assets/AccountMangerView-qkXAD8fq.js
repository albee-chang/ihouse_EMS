import{S as L,O as T,d as X,M as Z}from"./bootstrap.esm-I0sLjmTC.js";import{a as m,r as k,o,b as n,d as e,e as s,w as g,f as K,g as W,t as r,n as Y,h as D,u as l,F as y,i as x,j as O}from"./index-pAIqT9C9.js";const R="data:image/png;base64,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",H={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"static",id:"setPasswordCanvas","aria-labelledby":"accountEditOffcanvasLabel"},J=K('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">設定密碼</h2></div>',2),G={class:"offcanvas-body"},ee=e("div",null,null,-1),se={class:"row g-3"},te={class:"col-8"},ae=e("label",{for:"password",class:"form-label"},"密碼：",-1),le={class:"col-8"},oe=e("label",{for:"password-chcek",class:"form-label"},"確認密碼：",-1),ne={class:"mt-5 text-center d-flex gap-2"},de=["disabled"],ce={__name:"AccountSetPassword",props:["setPasswordElement","accountEditElement"],setup(w){const b=m(null),v=w;function E(p){b.value.resetForm(),v.setPasswordElement.hide(),v.accountEditElement.hide(),L.fire({icon:"success",title:"已建立",showConfirmButton:!1,timer:2e3})}const _={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",page:""};return(p,u)=>{const $=k("VField"),C=k("ErrorMessage"),i=k("VForm");return o(),n("div",H,[J,e("div",G,[ee,s(i,{ref_key:"setPasswordForm",ref:b,class:"needs-validation h-100 d-flex flex-column justify-content-between",novalidate:""},{default:g(({meta:d})=>[e("div",se,[e("div",te,[ae,s($,{class:"form-control",id:"password",name:"password",type:"password",rules:"required",placeholder:"請輸入密碼"}),s(C,{as:"p",class:"invalid-feedback d-block mb-0",name:"password"})]),e("div",le,[oe,s($,{class:"form-control",id:"password-chcek",name:"password-chcek",type:"password",rules:"confirmed:@password",placeholder:"請再次輸入密碼",modelValue:_.password,"onUpdate:modelValue":u[0]||(u[0]=A=>_.password=A)},null,8,["modelValue"]),s(C,{as:"p",class:"invalid-feedback d-block mb-0",name:"password-chcek"})])]),e("div",ne,[e("button",{class:"btn btn-outline-gray text-black w-50",type:"button",onClick:u[1]||(u[1]=A=>E())}," 上一步 "),e("button",{class:"btn btn-primary w-50",disabled:!d.valid,type:"button",onClick:u[2]||(u[2]=A=>E(p.value))}," 完成 ",8,de)])]),_:1},512)])])}}},ie={class:"modal fade",id:"addModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},re={class:"modal-dialog modal-dialog-centered"},ue={class:"modal-content bg-white-box"},me={class:"modal-header border-0"},be={class:"title-word"},pe=e("span",{class:"colr-block"},null,-1),fe={class:"mb-0 fw-semibold"},_e=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ve={class:"modal-body"},he={class:"mb-3"},ye={for:"inputField",class:"form-label"},ge={class:"text-center"},ke=["disabled"],we={__name:"AddModal",props:["tempArray","arrayName"],emits:["dataAdjusted"],setup(w,{emit:b}){const v=w,E=b,_=m(null),p=m(null),u=m(null),$=m(null);function C(d){switch(d){case"title":p.value="職稱",u.value="請輸入職稱";break;default:p.value="單位",u.value="請輸入單位名稱";break}}function i(){const d=[...v.tempArray,_.value];E("dataAdjusted",{arrayName:v.arrayName,adjustedArray:d}),$.value.resetForm()}return W(()=>{C(v.arrayName)}),(d,A)=>{const P=k("VField"),M=k("ErrorMessage"),Q=k("VForm");return o(),n("div",ie,[e("div",re,[e("div",ue,[e("div",me,[e("div",be,[pe,e("h2",fe,"建立新"+r(p.value),1)]),_e]),e("div",ve,[s(Q,{ref_key:"addForm",ref:$,onSubmit:i},{default:g(()=>[e("div",he,[e("label",ye,r(p.value)+"：",1),s(P,{class:"form-control",id:"inputField",name:"data",type:"test",rules:"required",modelValue:_.value,"onUpdate:modelValue":A[0]||(A[0]=N=>_.value=N),placeholder:`${u.value}`},null,8,["modelValue","placeholder"]),s(M,{as:"p",class:"invalid-feedback d-block mb-0",name:"data"})]),e("div",ge,[e("button",{type:"submit",class:Y(["fw-semibold btn",[_.value?"btn-primary":"btn-gray"]]),disabled:!_.value}," 儲存 ",10,ke)])]),_:1},512)])])])])}}},Ae={class:"offcanvas offcanvas-end account-offcanvas","data-bs-backdrop":"static",tabindex:"-1",id:"accountEditOffcanvas","aria-labelledby":"staticBackdropLabel"},Ve={class:"offcanvas-header"},Ee={class:"offcanvas-title fw-semibold",id:"staticBackdropLabel"},$e={class:"title-word mt-1"},Ce=e("span",{class:"colr-block"},null,-1),Ue={key:0},qe={key:1},xe={class:"offcanvas-body"},Ie=e("div",null,[e("img",{src:R,alt:"uploadPhoto"})],-1),Me={class:"row g-3"},Fe={class:"col-8"},Be=e("label",{for:"account",class:"form-label"},"帳號：",-1),Pe={class:"col-8"},Qe=e("label",{for:"name",class:"form-label"},"姓名：",-1),Ne={class:"col-8"},Se=e("label",{for:"tel",class:"form-label"},"電話：",-1),je={class:"col-12 d-flex select-lable-aligin gap-2"},Oe={class:"col-8"},ze=e("label",{for:"department",class:"form-label"},"單位：",-1),Ye=e("option",{value:"",disabled:""},"請選擇單位",-1),Le=["value"],Xe={class:"col-4"},Ze={class:"col-12 d-flex select-lable-aligin gap-2"},Te={class:"col-8"},Ke=e("label",{for:"title",class:"form-label"},"職稱：",-1),We=e("option",{value:"",disabled:""},"請選擇職稱",-1),De=["value"],Re={class:"col-4"},He={class:"col-8"},Je=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),Ge=e("option",{value:"",disabled:""},"請選擇權限",-1),es=["value"],ss=e("hr",{class:"my-4"},null,-1),ts=e("h3",null,"頁面權限",-1),as={class:"col-8"},ls=e("option",{value:"",disabled:""},"請選擇頁面",-1),os=["value"],ns={class:"col-4"},ds=e("option",{value:"",disabled:""},"請選擇權限",-1),cs=["value"],is={class:"col-4"},rs=["disabled"],us={class:"mt-5 text-center"},ms={key:0},bs=["disabled"],ps={key:1},fs=["disabled"],_s={__name:"AccountEditOffcanvas",props:["departments","titles","systemAccesss","addModalElement","accountEditElement","isNew","tempObject"],setup(w){const b=w,v=m(null),E=m(null),_=m(b.departments),p=m(b.titles),u=m(null),$=X.webPages,C=X.pageAccesss;let i=[{page:"",access:""}],d={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]};b.tempObject!==null&&(console.log("temp Not Null"),d={...b.tempObject},i=d.pageAccess);const A=()=>{i.push({page:"",access:""})};W(()=>{b.isNew?i=[{page:"",access:""}]:(d={...b.tempObject},i=d.pageAccess)});function P(f){u.value.resetForm(),F.value.show()}function M(f){L.fire({icon:"success",title:"已儲存",showConfirmButton:!1,timer:2e3}),b.accountEditElement.hide()}function Q(){L.fire({icon:"success",title:"已移除",showConfirmButton:!1,timer:2e3})}function N(){b.accountEditElement.hide()}function V(f){b.addModalElement.show(),f==="title"?(E.value="title",v.value=[...p.value]):(E.value="department",v.value=[..._.value])}function q(f){switch(f){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return f}}function S(f){switch(f){case"editable":return"編輯者";case"onlyView":return"檢視者";case"del":return"移除權限";default:return f}}function z(f){const{arrayName:c,adjustedArray:a}=f;switch(c){case"title":p.value=a;break;case"department":_.value=a;break;default:console.error(f);break}b.addModalElement.hide()}const F=m(null);return D(()=>{F.value=new T(document.querySelector("#setPasswordCanvas"),{keyboard:!1})}),(f,c)=>{const a=k("VField"),h=k("ErrorMessage"),j=k("VForm");return o(),n(y,null,[e("div",Ae,[e("div",Ve,[e("h2",Ee,[e("div",$e,[Ce,w.isNew?(o(),n("span",Ue,"建立新帳號")):(o(),n("span",qe,"編輯帳號"))])]),e("button",{type:"button",class:"btn-close rounded-5 bg-gray","aria-label":"Close",onClick:c[0]||(c[0]=I=>N())})]),e("div",xe,[Ie,s(j,{ref_key:"editUserForm",ref:u,class:"needs-validation"},{default:g(({meta:I})=>[e("div",Me,[e("div",Fe,[Be,s(a,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",required:"",placeholder:"請輸入帳號",modelValue:l(d).account,"onUpdate:modelValue":c[1]||(c[1]=t=>l(d).account=t),disabled:!w.isNew},null,8,["modelValue","disabled"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",Pe,[Qe,s(a,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",required:"",placeholder:"請輸入姓名",modelValue:l(d).name,"onUpdate:modelValue":c[2]||(c[2]=t=>l(d).name=t)},null,8,["modelValue"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",Ne,[Se,s(a,{class:"form-control",id:"tel",name:"phone",type:"tel",required:"",rules:"required|digits:10|numeric",placeholder:"請輸入電話",modelValue:l(d).phone,"onUpdate:modelValue":c[3]||(c[3]=t=>l(d).phone=t),disabled:!w.isNew},null,8,["modelValue","disabled"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",je,[e("div",Oe,[ze,s(a,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required",modelValue:l(d).department,"onUpdate:modelValue":c[4]||(c[4]=t=>l(d).department=t)},{default:g(()=>[Ye,(o(!0),n(y,null,x(_.value,t=>(o(),n("option",{key:t,value:t},r(t),9,Le))),128))]),_:1},8,["modelValue"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",Xe,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:c[5]||(c[5]=t=>V("department"))}," 建立新單位 ")])]),e("div",Ze,[e("div",Te,[Ke,s(a,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required",modelValue:l(d).title,"onUpdate:modelValue":c[6]||(c[6]=t=>l(d).title=t)},{default:g(()=>[We,(o(!0),n(y,null,x(p.value,t=>(o(),n("option",{key:t,value:t},r(t),9,De))),128))]),_:1},8,["modelValue"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:"title"})]),e("div",Re,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:c[7]||(c[7]=t=>V("title"))}," 建立新職稱 ")])]),e("div",He,[Je,s(a,{id:"system-access",name:"system-access",as:"select",class:"form-select",required:"",rules:"required",modelValue:l(d).systemAccess,"onUpdate:modelValue":c[8]||(c[8]=t=>l(d).systemAccess=t)},{default:g(()=>[Ge,(o(!0),n(y,null,x(w.systemAccesss,t=>(o(),n("option",{key:t,value:t},r(q(t)),9,es))),128))]),_:1},8,["modelValue"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:"system-access"})])]),ss,ts,(o(!0),n(y,null,x(l(i),(t,B)=>(o(),n("div",{key:t.key,class:"col-12 d-flex align-items-start gap-2 mb-3"},[e("div",as,[s(a,{id:`page-${B}`,name:`page-${B}`,as:"select",class:"form-select",required:"",rules:"required",modelValue:t.page,"onUpdate:modelValue":U=>t.page=U,disabled:t.page!==""},{default:g(()=>[ls,(o(!0),n(y,null,x(l($),U=>(o(),n("option",{key:U,value:U},r(U),9,os))),128))]),_:2},1032,["id","name","modelValue","onUpdate:modelValue","disabled"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:`page-${B}`},null,8,["name"])]),e("div",ns,[s(a,{id:`page-access-${B}`,name:`page-access-${B}`,as:"select",class:"form-select",required:"",rules:"required",modelValue:t.access,"onUpdate:modelValue":U=>t.access=U},{default:g(()=>[ds,(o(!0),n(y,null,x(l(C),U=>(o(),n("option",{key:U,value:U},r(S(U)),9,cs))),128)),e("option",null,[e("button",{type:"button",onClick:Q},"移除權限")])]),_:2},1032,["id","name","modelValue","onUpdate:modelValue"]),s(h,{as:"p",class:"invalid-feedback d-block mb-0",name:`page-access-${B}`},null,8,["name"])])]))),128)),e("div",is,[e("button",{type:"button",class:Y(["btn",{"btn-outline-gray":l(i)&&l(i)[l(i).length-1].page==="","btn-outline-primary":!(l(i)&&l(i)[l(i).length-1].page==="")}]),onClick:A,disabled:l(i)&&l(i)[l(i).length-1].page===""},"新增頁面",10,rs)]),e("div",us,[w.isNew?(o(),n("span",ms,[e("button",{class:Y(["btn btn-primary w-50",[I.valid?"btn-primary":"btn-gray"]]),disabled:!I.valid,type:"button",onClick:c[9]||(c[9]=t=>P())}," 下一步 ",10,bs)])):(o(),n("span",ps,[e("button",{class:Y(["btn btn-primary w-50",[I.valid?"btn-primary":"btn-gray"]]),disabled:!I.valid,type:"button",onClick:c[10]||(c[10]=t=>M())}," 儲存 ",10,fs)]))])]),_:1},512)])]),s(we,{"temp-array":v.value,"array-name":E.value,onDataAdjusted:z},null,8,["temp-array","array-name"]),s(ce,{"set-password-element":F.value,"account-edit-element":w.accountEditElement},null,8,["set-password-element","account-edit-element"])],64)}}},vs={class:"container"},hs={class:"list-unstyled d-flex page-box mb-4"},ys={class:"page-item"},gs={class:"page-item"},ks={class:"bg-white-box mb-2"},ws={class:"d-flex gap-2"},As=e("div",{class:""},[e("label",{for:"exampleFormControlInput1",class:"form-label"},"姓名、電話、帳號"),e("input",{type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"請輸入姓名、電話、帳號"})],-1),Vs={class:""},Es=e("label",{for:"search-department",class:"form-label"},"單位",-1),$s=e("option",{value:"",disabled:""},"請選擇單位",-1),Cs=["value"],Us={class:""},qs=e("label",{for:"search-title",class:"form-label"},"職稱",-1),xs=e("option",{value:"",disabled:""},"請選擇職稱",-1),Is=["value"],Ms=e("div",{class:"d-flex gap-2"},[e("button",{type:"submit",class:"btn btn-outline-gray fw-semibold"}," 清除 "),e("button",{type:"submit",class:"btn btn-gray fw-semibold"},"搜尋")],-1),Fs={class:"d-flex justify-content-between align-items-end mb-2"},Bs=e("h4",{class:"fw-semibold"},"列表",-1),Ps={class:"d-flex gap-2 align-items-center me-2"},Qs={class:"mb-0 me-2"},Ns={class:"bg-white-box"},Ss={class:"table-responsive"},js={class:"table table-hover"},Os=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),zs={scope:"row",class:"text-center"},Ys={class:"ps-2"},Ls=["src"],Xs={class:"ps-2 mb-0"},Zs={class:"ps-2"},Ts=["onClick"],Ks=["onClick"],Ws={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ds={class:"modal-dialog modal-dialog-centered"},Rs={class:"modal-content bg-white-box"},Hs=K('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),Js={class:"modal-body"},Gs={class:"fw-semibold"},et={class:"d-flex gap-2 justify-content-center"},st=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),lt={__name:"AccountMangerView",setup(w){const{userDatas:b,departments:v,titles:E,systemAccesss:_}=X,p=m(b),u=m(null),$=m(null),C=m(null),i=m(null),d=m(null),A=m(null);function P(V){switch(V){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return V}}function M(V,q){q==="new"?($.value=!0,C.value={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]}):($.value=!1,C.value={...V}),d.value.show()}function Q(V){A.value.show(),u.value={...V}}function N(V){p.value=p.value.filter((q,S)=>q.id!==V),u.value=null,A.value.hide(),L.fire({icon:"success",title:"已刪除",showConfirmButton:!1,timer:2e3})}return D(()=>{d.value=new T("#accountEditOffcanvas",{keyboard:!1}),i.value=new Z(document.querySelector("#addModal"),{keyboard:!1}),A.value=new Z(document.querySelector("#delUserModal"),{keyboard:!1})}),(V,q)=>{var c;const S=k("router-link"),z=k("VField"),F=k("ErrorMessage"),f=k("VForm");return o(),n(y,null,[e("div",vs,[e("ul",hs,[e("li",ys,[s(S,{to:"/access/accountManger",class:"page-link fs-4"},{default:g(()=>[O("帳號")]),_:1})]),e("li",gs,[s(S,{to:"/access/pageManger",class:"page-link fs-4"},{default:g(()=>[O("頁面")]),_:1})])]),e("section",ks,[s(f,{class:"d-flex justify-content-between align-items-end"},{default:g(()=>[e("div",ws,[As,e("div",Vs,[Es,s(z,{id:"search-department",name:"department",as:"select",class:"form-select",required:"",rules:"required"},{default:g(()=>[$s,(o(!0),n(y,null,x(l(v),a=>(o(),n("option",{key:a,value:a},r(a),9,Cs))),128))]),_:1}),s(F,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",Us,[qs,s(z,{id:"search-title",name:"title",as:"select",class:"form-select",required:"",rules:"required"},{default:g(()=>[xs,(o(!0),n(y,null,x(l(E),a=>(o(),n("option",{key:a,value:a},r(a),9,Is))),128))]),_:1}),s(F,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})])]),Ms]),_:1})]),e("section",null,[e("div",Fs,[Bs,e("div",Ps,[e("p",Qs,"共計："+r(p.value.length)+" 筆",1),e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","aria-controls":"staticBackdrop",onClick:q[0]||(q[0]=a=>M(C.value,"new"))}," 建立新帳號 ")])]),e("div",Ns,[e("div",Ss,[e("table",js,[Os,(o(!0),n(y,null,x(p.value,(a,h)=>(o(),n("tbody",{key:a.id},[e("tr",null,[e("th",zs,r(h+1),1),e("td",null,[e("div",Ys,[e("img",{class:"table-img-head",src:a.photo,alt:""},null,8,Ls)])]),e("td",null,r(a.department),1),e("td",null,r(a.title),1),e("td",null,r(a.name),1),e("td",null,r(a.phone),1),e("td",null,r(a.account),1),e("td",null,r(P(a.systemAccess)),1),e("td",null,[e("p",Xs,[(o(!0),n(y,null,x(a.pageAccess,(j,I)=>(o(),n(y,null,[O(r(I>0?"、":"")+r(j.page),1)],64))),256))])]),e("td",null,[e("div",Zs,[e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold","aria-controls":"staticBackdrop",onClick:j=>M(a,"edit")}," 編輯 ",8,Ts),e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:j=>Q(a)}," 刪除 ",8,Ks)])])])]))),128))])])])])]),e("div",Ws,[e("div",Ds,[e("div",Rs,[Hs,e("div",Js,[e("p",null,[O(" 確定要刪除 "),e("span",Gs,r((c=u.value)==null?void 0:c.name),1),O(" 的帳號嗎？ ")]),e("div",et,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:q[1]||(q[1]=a=>{var h;return N((h=u.value)==null?void 0:h.id)})}," 確定刪除 "),st])])])])]),s(_s,{titles:l(E),departments:l(v),"system-accesss":l(_),"is-new":$.value,"temp-object":C.value,"add-modal-element":i.value,"account-edit-element":d.value},null,8,["titles","departments","system-accesss","is-new","temp-object","add-modal-element","account-edit-element"])],64)}}};export{lt as default};
