import{M as R,S as q,O as D,d as C}from"./bootstrap.esm-a1gjx-jx.js";import{a as c,h as P,r as F,o as r,b as u,d as e,e as l,w as h,n as M,F as V,f as E,g as z,u as d,i as T,j as O,t as k}from"./index-ZCbhgNXh.js";import{_ as G}from"./AddModal-BMNcm957.js";const H={class:"offcanvas offcanvas-end p-3",tabindex:"-1","data-bs-backdrop":"static",id:"setPasswordCanvas","aria-labelledby":"accountEditOffcanvasLabel"},J=E('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">編輯裝置</h2></div>',2),K={class:"offcanvas-body"},Q=e("h3",{class:"fw-lighter"},"對應點位",-1),W=E('<div class="table-responsive"><table class="table table-hover"><thead class="table-head"><tr><th scope="col">點位ID</th><th scope="col">點位類型</th><th scope="col">起始暫存器</th><th scope="col">功能碼</th><th scope="col">交換模式</th><th scope="col"><p class="border-start border-2 ps-2 mb-0">操作</p></th></tr></thead><tbody><tr><td>t</td><td>float</td><td>-</td><td>-</td><td>-</td><td><div class="ps-2"><button class="btn btn-outline-primary border-0 fw-lighter" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample"> 編輯 </button><button class="btn btn-outline-danger border-0 fw-lighter" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample"> 刪除 </button></div></td></tr></tbody></table></div>',1),X={class:"btn-set d-flex flex-column align-items-center"},Y={class:"mt-5 d-flex gap-2 mb-3 w-75"},Z=e("div",{class:"btn-group w-50",role:"group","aria-label":"Basic outlined"},[e("button",{type:"button",class:"btn btn-outline-black fs-5 border-0"},"匯出設定"),e("button",{type:"button",class:"btn btn-outline-black fs-5 border-0 border-start"},"匯入設定")],-1),ee={class:"modal fade",id:"addPointModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"addPointModalLabel","aria-hidden":"true"},te={class:"modal-dialog modal-dialog-centered"},se={class:"modal-content bg-white-box p-2"},le=E('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-lighter">新增節點</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),ae={class:"modal-body"},oe=e("div",{class:"row g-3 mb-3"},[e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"點位ID："),e("input",{type:"text",class:"form-control",id:"inputField",placeholder:"請輸入點位ID"})]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"起始暫存器："),e("input",{type:"text",class:"form-control",id:"inputField",placeholder:"請輸入名稱"})]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"類型："),e("select",{class:"form-select",id:"",required:""},[e("option",{value:""},"請選擇類型"),e("option",null,"1")])]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"Swap Mode："),e("select",{class:"form-select",id:"",required:""},[e("option",{value:""},"請選擇Swap Mode"),e("option",null,"1")])]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"Function Code："),e("select",{class:"form-select",id:"",required:""},[e("option",{value:""},"請選擇Function Code"),e("option",null,"1")])]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"除數："),e("input",{type:"text",class:"form-control",id:"inputField",placeholder:"請輸入名稱"})]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"Reverse："),e("select",{class:"form-select",id:"",required:""},[e("option",{value:""},"請選擇Reverse "),e("option",null,"1")])]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"虛擬節點類型："),e("select",{class:"form-select",id:"",required:""},[e("option",{value:""},"請選擇類型"),e("option",null,"1")])]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"資料長度："),e("select",{class:"form-select",id:"",required:""},[e("option",{value:""},"請選擇資料長度"),e("option",null,"1")])]),e("div",{class:"col-sm-6"},[e("label",{for:"inputField",class:"form-label fs-5"},"資料刷新時間（ms）："),e("input",{type:"text",class:"form-control",id:"inputField",placeholder:"請輸入時間"})])],-1),de={class:"text-center"},ne=["disabled"],ie=E('<div class="modal fade" id="addPointModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="addPointModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content bg-white-box"><div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-lighter"> 新增節點</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="text-center"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> 完成 </button></div></div></div></div></div>',1),ce={__name:"DeviceEditOffcanvas2",props:["setPasswordElement","accountEditElement"],setup(w){const n=c(null),b=c(null),m=w;function p(i){n.value.resetForm(),m.setPasswordElement.hide(),m.accountEditElement.hide(),q.fire({icon:"success",title:"已建立",showConfirmButton:!1,timer:2e3})}console.log({account:"",name:"",phone:"",department:"",title:"",systemAccess:"",page:""});const _=()=>{b.value.show()};return P(()=>{b.value=new R(document.querySelector("#addPointModal"),{keyboard:!1})}),(i,f)=>{const o=F("VForm");return r(),u(V,null,[e("div",H,[J,e("div",K,[e("div",{class:"d-flex justify-content-between align-items-center mb-3"},[Q,e("button",{type:"button",class:"btn btn-outline-primary",onClick:_}," 新增節點 ")]),W,e("div",X,[e("div",Y,[e("button",{class:"btn btn-outline-gray text-black w-50",type:"button",onClick:f[0]||(f[0]=s=>p())}," 上一步 "),e("button",{class:"btn btn-primary w-50",type:"button",onClick:f[1]||(f[1]=s=>p(i.value))}," 完成 ")]),Z])])]),e("div",ee,[e("div",te,[e("div",se,[le,e("div",ae,[l(o,{ref:"addForm",onSubmit:i.addData},{default:h(()=>[oe,e("div",de,[e("button",{type:"submit",class:M(["fw-semibold btn",[i.newData?"btn-primary":"btn-gray"]]),disabled:!i.newData}," 完成 ",10,ne)])]),_:1},8,["onSubmit"])])])])]),ie],64)}}},re={class:"offcanvas offcanvas-end account-offcanvas","data-bs-backdrop":"static",tabindex:"-1",id:"deviceEditOffcanvas","aria-labelledby":"staticBackdropLabel"},ue={class:"offcanvas-header"},be={class:"offcanvas-title fw-semibold",id:"staticBackdropLabel"},me={class:"title-word mt-1"},pe=e("span",{class:"colr-block"},null,-1),ve={key:0},fe={key:1},_e={class:"offcanvas-body"},he=e("div",{class:"mb-3"},[e("h3",{class:"fw-lighter"},"裝置類型")],-1),ye={class:"row g-3"},ge={class:"col-8"},we=e("label",{for:"device-model",class:"form-label fs-5"},"型號：",-1),ke=e("option",{value:"",disabled:""},"請選擇型號",-1),$e=e("option",{value:"1"},"1",-1),xe=e("div",{class:"separator"},null,-1),Fe={class:"col-8"},Ee=e("label",{for:"device_id",class:"form-label"},"裝置ID：",-1),Ve={class:"col-8"},qe=e("label",{for:"device_name",class:"form-label"},"裝置名稱：",-1),Ce={class:"col-8"},Me=e("label",{for:"address",class:"form-label"},"Address：",-1),Pe={class:"col-12 d-flex select-lable-aligin gap-1"},je={class:"col-8"},Ae=e("label",{for:"department",class:"form-label"},"連線方式：",-1),Oe=e("option",{value:"",disabled:""},"請選擇連線方式",-1),De=e("option",{value:"1"},"1",-1),Ne={class:"col-2"},Se={class:"col-2"},Ue={class:"col-8"},Ie=e("label",{for:"statu",class:"form-label"},"狀態：",-1),Be=e("option",{value:"",disabled:""},"請選擇狀態",-1),Le=e("option",{value:"1"},"1",-1),Re={class:"col-8"},ze=e("label",{for:"baudrate",class:"form-label"},"Baudrate：",-1),Te=e("option",{value:"",disabled:""},"請選擇",-1),Ge=e("option",{value:"1"},"1",-1),He={class:"mt-5 text-center"},Je={key:0},Ke=["disabled"],Qe={key:1},We=["disabled"],Xe={__name:"DeviceEditOffcanvas",props:["departments","titles","systemAccesss","addModalElement","deviceEditElement","isNew","tempObject"],setup(w){const n=w,b=c(null),m=c(null),p=c(n.departments),$=c(n.titles),_=c(null),i=C.webPages;console.log(i);const f=C.pageAccesss;console.log(f);let o=[{page:"",access:""}],s={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]};n.tempObject!==null&&(console.log("temp Not Null"),s={...n.tempObject},o=s.pageAccess),(()=>{o.push({page:"",access:""})})(),z(()=>{n.isNew?o=[{page:"",access:""}]:(s={...n.tempObject},o=s.pageAccess)});function N(y){_.value.resetForm(),A.value.show()}function S(y){q.fire({icon:"success",title:"已儲存",showConfirmButton:!1,timer:2e3}),n.deviceEditElement.hide()}function U(){q.fire({icon:"success",title:"已移除",showConfirmButton:!1,timer:2e3})}U();function I(){n.deviceEditElement.hide()}function j(y){n.addModalElement.show(),y==="title"?(m.value="title",b.value=[...$.value]):(m.value="department",b.value=[...p.value])}function B(y){const{arrayName:t,adjustedArray:v}=y;switch(t){case"title":$.value=v;break;case"department":p.value=v;break;default:console.error(y);break}n.addModalElement.hide()}const A=c(null);return P(()=>{A.value=new D(document.querySelector("#setPasswordCanvas"),{keyboard:!1})}),(y,t)=>{const v=F("VField"),g=F("ErrorMessage"),L=F("VForm");return r(),u(V,null,[e("div",re,[e("div",ue,[e("h2",be,[e("div",me,[pe,w.isNew?(r(),u("span",ve,"新增裝置")):(r(),u("span",fe,"編輯裝置"))])]),e("button",{type:"button",class:"btn-close rounded-5 bg-gray","aria-label":"Close",onClick:t[0]||(t[0]=x=>I())})]),e("div",_e,[he,l(L,{ref_key:"editUserForm",ref:_,class:"needs-validation"},{default:h(({meta:x})=>[e("div",ye,[e("div",ge,[we,l(v,{id:"device-model",name:"device-model",as:"select",class:"form-select",required:"",rules:"required",modelValue:d(s).model,"onUpdate:modelValue":t[1]||(t[1]=a=>d(s).model=a)},{default:h(()=>[ke,$e]),_:1},8,["modelValue"]),l(g,{as:"p",class:"invalid-feedback d-block mb-0",name:"device-model"})]),xe,e("div",Fe,[Ee,l(v,{class:"form-control",id:"device_id",name:"device_id",type:"text",rules:"required",required:"",placeholder:"請輸入裝置ID",modelValue:d(s).device_id,"onUpdate:modelValue":t[2]||(t[2]=a=>d(s).device_id=a)},null,8,["modelValue"]),l(g,{as:"p",class:"invalid-feedback d-block mb-0",name:"device_id"})]),e("div",Ve,[qe,l(v,{class:"form-control",id:"device_name",name:"device_name",type:"text",required:"",rules:"required",placeholder:"請輸入裝置名稱",modelValue:d(s).device_name,"onUpdate:modelValue":t[3]||(t[3]=a=>d(s).device_name=a)},null,8,["modelValue"]),l(g,{as:"p",class:"invalid-feedback d-block mb-0",name:"device_name"})]),e("div",Ce,[Me,l(v,{class:"form-control",id:"address",name:"address",type:"text",required:"",rules:"required",placeholder:"請輸入Address",modelValue:d(s).address,"onUpdate:modelValue":t[4]||(t[4]=a=>d(s).address=a)},null,8,["modelValue"]),l(g,{as:"p",class:"invalid-feedback d-block mb-0",name:"address"})]),e("div",Pe,[e("div",je,[Ae,l(v,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required",modelValue:d(s).department,"onUpdate:modelValue":t[5]||(t[5]=a=>d(s).department=a)},{default:h(()=>[Oe,De]),_:1},8,["modelValue"]),l(g,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",Ne,[e("button",{type:"button",class:"btn btn-outline-primary text-nowrap",onClick:t[6]||(t[6]=a=>j("department"))}," 新增 ")]),e("div",Se,[e("button",{type:"button",class:"btn btn-outline-primary text-nowrap",onClick:t[7]||(t[7]=a=>j("department"))}," 編輯 ")])]),e("div",Ue,[Ie,l(v,{id:"statu",name:"statu",as:"select",class:"form-select",required:"",rules:"required",modelValue:d(s).device_status,"onUpdate:modelValue":t[8]||(t[8]=a=>d(s).device_status=a)},{default:h(()=>[Be,Le]),_:1},8,["modelValue"]),l(g,{as:"p",class:"invalid-feedback d-block mb-0",name:"statu"})]),e("div",Re,[ze,l(v,{id:"baudrate",name:"baudrate",as:"select",class:"form-select",required:"",rules:"required",modelValue:d(s).baudrate,"onUpdate:modelValue":t[9]||(t[9]=a=>d(s).baudrate=a)},{default:h(()=>[Te,Ge]),_:1},8,["modelValue"]),l(g,{as:"p",class:"invalid-feedback d-block mb-0",name:"baudrate"})])]),e("div",He,[w.isNew?(r(),u("span",Je,[e("button",{class:M(["btn btn-primary w-50",[x.valid?"btn-primary":"btn-gray"]]),disabled:!x.valid,type:"button",onClick:t[10]||(t[10]=a=>N())}," 下一步 ",10,Ke)])):(r(),u("span",Qe,[e("button",{class:M(["btn btn-primary w-50",[x.valid?"btn-primary":"btn-gray"]]),disabled:!x.valid,type:"button",onClick:t[11]||(t[11]=a=>S())}," 儲存 ",10,We)]))])]),_:1},512)])]),l(G,{"temp-array":b.value,"array-name":m.value,onDataAdjusted:B},null,8,["temp-array","array-name"]),l(ce)],64)}}},Ye={class:"container"},Ze={class:"list-unstyled d-flex page-box mb-4"},et={class:"page-item"},tt={class:"page-item"},st=E('<section class="bg-white-box mb-2"><form class="d-flex justify-content-between align-items-end"><div class="d-flex gap-2"><div class=""><label for="exampleFormControlInput1" class="form-label">裝置ID、裝置名稱</label><input type="text" class="form-control" id="exampleFormControlInput1" placeholder="請輸入ID、名稱"></div><div class=""><label for="country" class="form-label">裝置類型</label><select class="form-select" id="country" required=""><option value="">請選擇裝置類型</option><option>United States</option></select><div class="invalid-feedback">Please select a valid country.</div></div><div class=""><label for="country2" class="form-label">啟用狀態</label><select class="form-select" id="country2" required=""><option value="">請選擇啟用狀態</option><option>United States</option></select><div class="invalid-feedback">Please select a valid country.</div></div><div class=""><label for="country2" class="form-label">連線狀態</label><select class="form-select" id="country2" required=""><option value="">請選擇連線狀態</option><option>United States</option></select><div class="invalid-feedback">Please select a valid country.</div></div></div><div class="d-flex gap-2"><button type="submit" class="btn btn-outline-gray fw-semibold"> 清除 </button><button type="submit" class="btn btn-gray fw-semibold text-white"> 搜尋 </button></div></form></section>',1),lt={class:"d-flex justify-content-between align-items-end mb-2"},at=e("h4",{class:"fw-semibold"},"列表",-1),ot={class:"d-flex gap-2 align-items-center me-2"},dt=e("p",{class:"mb-0 me-2"},"共計：12 筆",-1),nt={class:"bg-white-box"},it={class:"table-responsive"},ct={class:"table table-hover"},rt=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"裝置ID")]),e("th",{scope:"col"},"裝置名稱"),e("th",{scope:"col"},"裝置類型"),e("th",{scope:"col"},"連線ID"),e("th",{scope:"col"},"站號"),e("th",{scope:"col",class:"miw-140"},"啟用狀態"),e("th",{scope:"col"},"連線狀態"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),ut={scope:"row",class:"text-center"},bt=["value"],mt=e("option",{value:"true"},"啟用中",-1),pt=e("option",{value:"false"},"停用中",-1),vt=[mt,pt],ft={key:0,class:"device-statu device-link"},_t={key:1,class:"device-statu"},ht=e("td",null,[e("div",{class:"ps-2"},[e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold"}," 編輯 "),e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold"}," 刪除 ")])],-1),$t={__name:"DeviceMangerView",setup(w){const n=C.deviceDatas,b=c(null),m=c(null),p=c(null);function $(_,i){i==="new"?(m.value=!0,p.value={id:"",device_id:"",device_name:"",device_type:"",connect_id:"",station_id:"",enabled_status:!1,device_status:!1}):(m.value=!1,p.value={..._}),b.value.show()}return P(()=>{b.value=new D("#deviceEditOffcanvas",{keyboard:!1})}),(_,i)=>{const f=F("router-link");return r(),u(V,null,[e("div",Ye,[e("ul",Ze,[e("li",et,[l(f,{to:"/devices/devicesManger",class:"page-link fs-4"},{default:h(()=>[O("裝置列表")]),_:1})]),e("li",tt,[l(f,{to:"/devices/locationManger",class:"page-link fs-4"},{default:h(()=>[O("點位列表")]),_:1})])]),st,e("section",null,[e("div",lt,[at,e("div",ot,[dt,e("button",{class:"btn btn-outline-primary fw-semibold",type:"button",onClick:i[0]||(i[0]=o=>$(p.value,"new"))}," 新增裝置 ")])]),e("div",nt,[e("div",it,[e("table",ct,[rt,e("tbody",null,[(r(!0),u(V,null,T(d(n),(o,s)=>(r(),u("tr",{key:o.id},[e("th",ut,k(s+1),1),e("td",null,k(o.device_id),1),e("td",null,k(o.device_name),1),e("td",null,k(o.device_type),1),e("td",null,k(o.connect_id),1),e("td",null,k(o.station_id),1),e("td",null,[e("select",{class:"form-select",id:"country",required:"",value:o.enabled_status},vt,8,bt)]),e("td",null,[o.device_status?(r(),u("span",ft,"連線中")):(r(),u("span",_t,"斷線中"))]),ht]))),128))])])])])])]),l(Xe,{"is-new":m.value,"temp-object":p.value,"add-modal-element":_.addModalElement,"device-edit-element":b.value},null,8,["is-new","temp-object","add-modal-element","device-edit-element"])],64)}}};export{$t as default};
